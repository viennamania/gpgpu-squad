import{at as i,b3 as C,a0 as w,aq as r,aK as s,bD as j,aR as f,bE as I,aU as m,bF as v,bG as E,ay as h,aA as y,aO as x}from"./index-DillEupA.js";import{a as k,I as $}from"./formElements-D8X8dk3w.js";async function F(e){if(e.id!=="inApp")throw new Error("Multi-auth currently only supports in-app wallets");return e.getProfiles()}async function P(e,n){if(e.id!=="inApp")throw new Error("Multi-auth currently only supports in-app wallets");return e.linkProfile(n)}function R({countryCode:e,setCountryCode:n}){const u=i.useRef(null),{data:o}=C({queryKey:["supported-sms-countries"],queryFn:async()=>{const{supportedSmsCountries:t}=await w(async()=>{const{supportedSmsCountries:l}=await import("./supported-sms-countries-Cg6pf6QY.js");return{supportedSmsCountries:l}},[]);return t}}),c=o??[{countryIsoCode:"US",countryName:"United States",phoneNumberCode:1}];return r.jsx(r.Fragment,{children:r.jsxs(_,{ref:u,name:"countries",id:"countries",value:e,onChange:t=>{n(t.target.value)},style:{padding:`${s.sm} ${s.md}`},children:[r.jsx(g,{style:{display:"none"},value:e,children:e}),c.map(t=>r.jsxs(g,{value:`${t.countryIsoCode} +${t.phoneNumberCode}`,children:[t.countryName," +",t.phoneNumberCode," "]},t.countryIsoCode))]})})}const g=j(()=>{const e=f();return{color:e.colors.primaryText,background:e.colors.modalBg,transition:"background 0.3s ease","&:hover":{background:e.colors.tertiaryBg}}}),_=I(e=>{const n=f();return{display:"block",padding:s.sm,boxSizing:"border-box",outline:"none",border:"none",borderRadius:m.lg,color:n.colors.primaryText,WebkitAppearance:"none",appearance:"none",cursor:"pointer",background:"transparent","&::placeholder":{color:n.colors.secondaryText},"&[disabled]":{cursor:"not-allowed"},minWidth:"0px",maxWidth:"90px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}});function T(e){const[n,u]=i.useState("US +1"),[o,c]=i.useState(""),[t,l]=i.useState(),[a,b]=i.useState(!1),p=()=>{b(!0),!(!o||t)&&e.onSelect(e.format==="phone"?`+${n.split("+")[1]}${o}`:o)},S=a&&!!t||!o&&!!e.emptyErrorMessage&&a;return r.jsxs("div",{style:{width:"100%"},children:[r.jsxs(k,{style:{position:"relative",display:"flex",flexDirection:"row"},"data-error":S,children:[e.format==="phone"&&r.jsx(R,{countryCode:n,setCountryCode:u}),r.jsx($,{tabIndex:-1,placeholder:e.placeholder,style:{flexGrow:1,padding:`${s.sm} ${e.format==="phone"?0:s.sm}`},variant:"transparent",type:e.type,name:e.name,value:o,disabled:e.disabled,onChange:d=>{c(d.target.value),e.errorMessage?l(e.errorMessage(d.target.value)):l(void 0)},onKeyDown:d=>{d.key==="Enter"&&p()}}),r.jsx(v,{onClick:p,disabled:e.disabled,style:{padding:s.sm,borderRadius:`0 ${m.md} ${m.md} 0`},children:r.jsx(E,{width:h.md,height:h.md})})]}),a&&t&&r.jsxs(r.Fragment,{children:[r.jsx(y,{y:"xs"}),r.jsx(x,{color:"danger",size:"sm",children:t})]}),!(a&&t)&&!o&&e.emptyErrorMessage&&a&&r.jsxs(r.Fragment,{children:[r.jsx(y,{y:"xs"}),r.jsx(x,{color:"danger",size:"sm",children:e.emptyErrorMessage})]})]})}export{T as I,F as g,P as l};
