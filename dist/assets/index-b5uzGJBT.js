import{ah as Gn,ai as Yn,ag as ot}from"./index-DillEupA.js";import{r as ga,e as ya}from"./___vite-browser-external_commonjs-proxy-CQ4WIAjb.js";const wa=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,va=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Da=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function pa(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){Ea(e);return}return t}function Ea(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function er(e,t={}){if(typeof e!="string")return e;const r=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){const a=r.toLowerCase();if(a==="true")return!0;if(a==="false")return!1;if(a==="undefined")return;if(a==="null")return null;if(a==="nan")return Number.NaN;if(a==="infinity")return Number.POSITIVE_INFINITY;if(a==="-infinity")return Number.NEGATIVE_INFINITY}if(!Da.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(wa.test(e)||va.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,pa)}return JSON.parse(e)}catch(a){if(t.strict)throw a;return e}}function ma(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function Ge(e,...t){try{return ma(e(...t))}catch(r){return Promise.reject(r)}}function xa(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function Sa(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function nr(e){if(xa(e))return String(e);if(Sa(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return nr(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function Vn(){if(typeof Buffer===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}const Ur="base64:";function Oa(e){if(typeof e=="string")return e;Vn();const t=Buffer.from(e).toString("base64");return Ur+t}function Aa(e){return typeof e!="string"||!e.startsWith(Ur)?e:(Vn(),Buffer.from(e.slice(Ur.length),"base64"))}function Je(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function Ca(...e){return Je(e.join(":"))}function tr(e){return e=Je(e),e?e+":":""}const Ta="memory",Ia=()=>{const e=new Map;return{name:Ta,options:{},hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys(){return Array.from(e.keys())},clear(){e.clear()},dispose(){e.clear()}}};function La(e={}){const t={mounts:{"":e.driver||Ia()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=s=>{for(const c of t.mountpoints)if(s.startsWith(c))return{base:c,relativeKey:s.slice(c.length),driver:t.mounts[c]};return{base:"",relativeKey:s,driver:t.mounts[""]}},a=(s,c)=>t.mountpoints.filter(g=>g.startsWith(s)||c&&s.startsWith(g)).map(g=>({relativeBase:s.length>g.length?s.slice(g.length):void 0,mountpoint:g,driver:t.mounts[g]})),o=(s,c)=>{if(t.watching){c=Je(c);for(const g of t.watchListeners)g(s,c)}},f=async()=>{if(!t.watching){t.watching=!0;for(const s in t.mounts)t.unwatch[s]=await un(t.mounts[s],o,s)}},p=async()=>{if(t.watching){for(const s in t.unwatch)await t.unwatch[s]();t.unwatch={},t.watching=!1}},u=(s,c,g)=>{const v=new Map,y=m=>{let M=v.get(m.base);return M||(M={driver:m.driver,base:m.base,items:[]},v.set(m.base,M)),M};for(const m of s){const M=typeof m=="string",L=Je(M?m:m.key),K=M?void 0:m.value,E=M||!m.options?c:{...c,...m.options},C=r(L);y(C).items.push({key:L,value:K,relativeKey:C.relativeKey,options:E})}return Promise.all([...v.values()].map(m=>g(m))).then(m=>m.flat())},h={hasItem(s,c={}){s=Je(s);const{relativeKey:g,driver:v}=r(s);return Ge(v.hasItem,g,c)},getItem(s,c={}){s=Je(s);const{relativeKey:g,driver:v}=r(s);return Ge(v.getItem,g,c).then(y=>er(y))},getItems(s,c){return u(s,c,g=>g.driver.getItems?Ge(g.driver.getItems,g.items.map(v=>({key:v.relativeKey,options:v.options})),c).then(v=>v.map(y=>({key:Ca(g.base,y.key),value:er(y.value)}))):Promise.all(g.items.map(v=>Ge(g.driver.getItem,v.relativeKey,v.options).then(y=>({key:v.key,value:er(y)})))))},getItemRaw(s,c={}){s=Je(s);const{relativeKey:g,driver:v}=r(s);return v.getItemRaw?Ge(v.getItemRaw,g,c):Ge(v.getItem,g,c).then(y=>Aa(y))},async setItem(s,c,g={}){if(c===void 0)return h.removeItem(s);s=Je(s);const{relativeKey:v,driver:y}=r(s);y.setItem&&(await Ge(y.setItem,v,nr(c),g),y.watch||o("update",s))},async setItems(s,c){await u(s,c,async g=>{if(g.driver.setItems)return Ge(g.driver.setItems,g.items.map(v=>({key:v.relativeKey,value:nr(v.value),options:v.options})),c);g.driver.setItem&&await Promise.all(g.items.map(v=>Ge(g.driver.setItem,v.relativeKey,nr(v.value),v.options)))})},async setItemRaw(s,c,g={}){if(c===void 0)return h.removeItem(s,g);s=Je(s);const{relativeKey:v,driver:y}=r(s);if(y.setItemRaw)await Ge(y.setItemRaw,v,c,g);else if(y.setItem)await Ge(y.setItem,v,Oa(c),g);else return;y.watch||o("update",s)},async removeItem(s,c={}){typeof c=="boolean"&&(c={removeMeta:c}),s=Je(s);const{relativeKey:g,driver:v}=r(s);v.removeItem&&(await Ge(v.removeItem,g,c),(c.removeMeta||c.removeMata)&&await Ge(v.removeItem,g+"$",c),v.watch||o("remove",s))},async getMeta(s,c={}){typeof c=="boolean"&&(c={nativeOnly:c}),s=Je(s);const{relativeKey:g,driver:v}=r(s),y=Object.create(null);if(v.getMeta&&Object.assign(y,await Ge(v.getMeta,g,c)),!c.nativeOnly){const m=await Ge(v.getItem,g+"$",c).then(M=>er(M));m&&typeof m=="object"&&(typeof m.atime=="string"&&(m.atime=new Date(m.atime)),typeof m.mtime=="string"&&(m.mtime=new Date(m.mtime)),Object.assign(y,m))}return y},setMeta(s,c,g={}){return this.setItem(s+"$",c,g)},removeMeta(s,c={}){return this.removeItem(s+"$",c)},async getKeys(s,c={}){s=tr(s);const g=a(s,!0);let v=[];const y=[];for(const m of g){const L=(await Ge(m.driver.getKeys,m.relativeBase,c)).map(K=>m.mountpoint+Je(K)).filter(K=>!v.some(E=>K.startsWith(E)));y.push(...L),v=[m.mountpoint,...v.filter(K=>!K.startsWith(m.mountpoint))]}return s?y.filter(m=>m.startsWith(s)&&!m.endsWith("$")):y.filter(m=>!m.endsWith("$"))},async clear(s,c={}){s=tr(s),await Promise.all(a(s,!1).map(async g=>{if(g.driver.clear)return Ge(g.driver.clear,g.relativeBase,c);if(g.driver.removeItem){const v=await g.driver.getKeys(g.relativeBase||"",c);return Promise.all(v.map(y=>g.driver.removeItem(y,c)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(s=>cn(s)))},async watch(s){return await f(),t.watchListeners.push(s),async()=>{t.watchListeners=t.watchListeners.filter(c=>c!==s),t.watchListeners.length===0&&await p()}},async unwatch(){t.watchListeners=[],await p()},mount(s,c){if(s=tr(s),s&&t.mounts[s])throw new Error(`already mounted at ${s}`);return s&&(t.mountpoints.push(s),t.mountpoints.sort((g,v)=>v.length-g.length)),t.mounts[s]=c,t.watching&&Promise.resolve(un(c,o,s)).then(g=>{t.unwatch[s]=g}).catch(console.error),h},async unmount(s,c=!0){s=tr(s),!(!s||!t.mounts[s])&&(t.watching&&s in t.unwatch&&(t.unwatch[s](),delete t.unwatch[s]),c&&await cn(t.mounts[s]),t.mountpoints=t.mountpoints.filter(g=>g!==s),delete t.mounts[s])},getMount(s=""){s=Je(s)+":";const c=r(s);return{driver:c.driver,base:c.base}},getMounts(s="",c={}){return s=Je(s),a(s,c.parents).map(v=>({driver:v.driver,base:v.mountpoint}))}};return h}function un(e,t,r){return e.watch?e.watch((a,o)=>t(a,r+o)):()=>{}}async function cn(e){typeof e.dispose=="function"&&await Ge(e.dispose)}function mt(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function qn(e,t){const r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);const a=mt(r);return(o,f)=>a.then(p=>f(p.transaction(t,o).objectStore(t)))}let xr;function Kt(){return xr||(xr=qn("keyval-store","keyval")),xr}function ln(e,t=Kt()){return t("readonly",r=>mt(r.get(e)))}function Ua(e,t,r=Kt()){return r("readwrite",a=>(a.put(t,e),mt(a.transaction)))}function Na(e,t=Kt()){return t("readwrite",r=>(r.delete(e),mt(r.transaction)))}function Ma(e=Kt()){return e("readwrite",t=>(t.clear(),mt(t.transaction)))}function Ra(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},mt(e.transaction)}function Fa(e=Kt()){return e("readonly",t=>{if(t.getAllKeys)return mt(t.getAllKeys());const r=[];return Ra(t,a=>r.push(a.key)).then(()=>r)})}const Pa=e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString()+"n":r),Ba=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=e.replace(t,'$1"$2n"$3');return JSON.parse(r,(a,o)=>typeof o=="string"&&o.match(/^\d+n$/)?BigInt(o.substring(0,o.length-1)):o)};function hr(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return Ba(e)}catch{return e}}function It(e){return typeof e=="string"?e:Pa(e)||""}const ja="idb-keyval";var Ha=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",r=o=>t+o;let a;return e.dbName&&e.storeName&&(a=qn(e.dbName,e.storeName)),{name:ja,options:e,async hasItem(o){return!(typeof await ln(r(o),a)>"u")},async getItem(o){return await ln(r(o),a)??null},setItem(o,f){return Ua(r(o),f,a)},removeItem(o){return Na(r(o),a)},getKeys(){return Fa(a)},clear(){return Ma(a)}}};const za="WALLET_CONNECT_V2_INDEXED_DB",$a="keyvaluestorage";let Ka=class{constructor(){this.indexedDb=La({driver:Ha({dbName:za,storeName:$a})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const r=await this.indexedDb.getItem(t);if(r!==null)return r}async setItem(t,r){await this.indexedDb.setItem(t,It(r))}async removeItem(t){await this.indexedDb.removeItem(t)}};var Sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ir={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,a){this[r]=String(a)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(a){r[a]=void 0,delete r[a]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Sr<"u"&&Sr.localStorage?ir.exports=Sr.localStorage:typeof window<"u"&&window.localStorage?ir.exports=window.localStorage:ir.exports=new t})();function Wa(e){var t;return[e[0],hr((t=e[1])!=null?t:"")]}class Ga{constructor(){this.localStorage=ir.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Wa)}async getItem(t){const r=this.localStorage.getItem(t);if(r!==null)return hr(r)}async setItem(t,r){this.localStorage.setItem(t,It(r))}async removeItem(t){this.localStorage.removeItem(t)}}const Ya="wc_storage_version",hn=1,Va=async(e,t,r)=>{const a=Ya,o=await t.getItem(a);if(o&&o>=hn){r(t);return}const f=await e.getKeys();if(!f.length){r(t);return}const p=[];for(;f.length;){const u=f.shift();if(!u)continue;const h=u.toLowerCase();if(h.includes("wc@")||h.includes("walletconnect")||h.includes("wc_")||h.includes("wallet_connect")){const s=await e.getItem(u);await t.setItem(u,s),p.push(u)}}await t.setItem(a,hn),r(t),qa(e,p)},qa=async(e,t)=>{t.length&&t.forEach(async r=>{await e.removeItem(r)})};let Ac=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const t=new Ga;this.storage=t;try{const r=new Ka;Va(t,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,r){return await this.initialize(),this.storage.setItem(t,r)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),t())},20)})}};var Xn={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Nr=function(e,t){return Nr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var o in a)a.hasOwnProperty(o)&&(r[o]=a[o])},Nr(e,t)};function Xa(e,t){Nr(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Mr=function(){return Mr=Object.assign||function(t){for(var r,a=1,o=arguments.length;a<o;a++){r=arguments[a];for(var f in r)Object.prototype.hasOwnProperty.call(r,f)&&(t[f]=r[f])}return t},Mr.apply(this,arguments)};function Ja(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r}function ka(e,t,r,a){var o=arguments.length,f=o<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,r):a,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(e,t,r,a);else for(var u=e.length-1;u>=0;u--)(p=e[u])&&(f=(o<3?p(f):o>3?p(t,r,f):p(t,r))||f);return o>3&&f&&Object.defineProperty(t,r,f),f}function Za(e,t){return function(r,a){t(r,a,e)}}function Qa(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function eo(e,t,r,a){function o(f){return f instanceof r?f:new r(function(p){p(f)})}return new(r||(r=Promise))(function(f,p){function u(c){try{s(a.next(c))}catch(g){p(g)}}function h(c){try{s(a.throw(c))}catch(g){p(g)}}function s(c){c.done?f(c.value):o(c.value).then(u,h)}s((a=a.apply(e,t||[])).next())})}function to(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,o,f,p;return p={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function u(s){return function(c){return h([s,c])}}function h(s){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,o&&(f=s[0]&2?o.return:s[0]?o.throw||((f=o.return)&&f.call(o),0):o.next)&&!(f=f.call(o,s[1])).done)return f;switch(o=0,f&&(s=[s[0]&2,f.value]),s[0]){case 0:case 1:f=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!f||s[1]>f[0]&&s[1]<f[3])){r.label=s[1];break}if(s[0]===6&&r.label<f[1]){r.label=f[1],f=s;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(s);break}f[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(c){s=[6,c],o=0}finally{a=f=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function ro(e,t,r,a){a===void 0&&(a=r),e[a]=t[r]}function no(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Rr(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],a=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jn(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),o,f=[],p;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)f.push(o.value)}catch(u){p={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(p)throw p.error}}return f}function io(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Jn(arguments[t]));return e}function ao(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var a=Array(e),o=0,t=0;t<r;t++)for(var f=arguments[t],p=0,u=f.length;p<u;p++,o++)a[o]=f[p];return a}function jt(e){return this instanceof jt?(this.v=e,this):new jt(e)}function oo(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(e,t||[]),o,f=[];return o={},p("next"),p("throw"),p("return"),o[Symbol.asyncIterator]=function(){return this},o;function p(v){a[v]&&(o[v]=function(y){return new Promise(function(m,M){f.push([v,y,m,M])>1||u(v,y)})})}function u(v,y){try{h(a[v](y))}catch(m){g(f[0][3],m)}}function h(v){v.value instanceof jt?Promise.resolve(v.value.v).then(s,c):g(f[0][2],v)}function s(v){u("next",v)}function c(v){u("throw",v)}function g(v,y){v(y),f.shift(),f.length&&u(f[0][0],f[0][1])}}function so(e){var t,r;return t={},a("next"),a("throw",function(o){throw o}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(o,f){t[o]=e[o]?function(p){return(r=!r)?{value:jt(e[o](p)),done:o==="return"}:f?f(p):p}:f}}function fo(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Rr=="function"?Rr(e):e[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(f){r[f]=e[f]&&function(p){return new Promise(function(u,h){p=e[f](p),o(u,h,p.done,p.value)})}}function o(f,p,u,h){Promise.resolve(h).then(function(s){f({value:s,done:u})},p)}}function uo(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function co(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function lo(e){return e&&e.__esModule?e:{default:e}}function ho(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function _o(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const bo=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Mr},__asyncDelegator:so,__asyncGenerator:oo,__asyncValues:fo,__await:jt,__awaiter:eo,__classPrivateFieldGet:ho,__classPrivateFieldSet:_o,__createBinding:ro,__decorate:ka,__exportStar:no,__extends:Xa,__generator:to,__importDefault:lo,__importStar:co,__makeTemplateObject:uo,__metadata:Qa,__param:Za,__read:Jn,__rest:Ja,__spread:io,__spreadArrays:ao,__values:Rr},Symbol.toStringTag,{value:"Module"})),dr=Gn(bo);var Or={},Ft={},dn;function go(){if(dn)return Ft;dn=1,Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.delay=void 0;function e(t){return new Promise(r=>{setTimeout(()=>{r(!0)},t)})}return Ft.delay=e,Ft}var pt={},Ar={},Et={},_n;function yo(){return _n||(_n=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.ONE_THOUSAND=Et.ONE_HUNDRED=void 0,Et.ONE_HUNDRED=100,Et.ONE_THOUSAND=1e3),Et}var Cr={},bn;function wo(){return bn||(bn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(Cr)),Cr}var gn;function kn(){return gn||(gn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=dr;t.__exportStar(yo(),e),t.__exportStar(wo(),e)}(Ar)),Ar}var yn;function vo(){if(yn)return pt;yn=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.fromMiliseconds=pt.toMiliseconds=void 0;const e=kn();function t(a){return a*e.ONE_THOUSAND}pt.toMiliseconds=t;function r(a){return Math.floor(a/e.ONE_THOUSAND)}return pt.fromMiliseconds=r,pt}var wn;function Do(){return wn||(wn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=dr;t.__exportStar(go(),e),t.__exportStar(vo(),e)}(Or)),Or}var Ot={},vn;function po(){if(vn)return Ot;vn=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const a=this.get(r);if(typeof a.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const o=Date.now()-a.started;this.timestamps.set(r,{started:a.started,elapsed:o})}get(r){const a=this.timestamps.get(r);if(typeof a>"u")throw new Error(`No timestamp found for label: ${r}`);return a}elapsed(r){const a=this.get(r);return a.elapsed||Date.now()-a.started}}return Ot.Watch=e,Ot.default=e,Ot}var Tr={},Pt={},Dn;function Eo(){if(Dn)return Pt;Dn=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.IWatch=void 0;class e{}return Pt.IWatch=e,Pt}var pn;function mo(){return pn||(pn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),dr.__exportStar(Eo(),e)}(Tr)),Tr}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=dr;t.__exportStar(Do(),e),t.__exportStar(po(),e),t.__exportStar(mo(),e),t.__exportStar(kn(),e)})(Xn);class Tc{}function xo(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}var So=Oo;function Oo(e,t,r){var a=r&&r.stringify||xo,o=1;if(typeof e=="object"&&e!==null){var f=t.length+o;if(f===1)return e;var p=new Array(f);p[0]=a(e);for(var u=1;u<f;u++)p[u]=a(t[u]);return p.join(" ")}if(typeof e!="string")return e;var h=t.length;if(h===0)return e;for(var s="",c=1-o,g=-1,v=e&&e.length||0,y=0;y<v;){if(e.charCodeAt(y)===37&&y+1<v){switch(g=g>-1?g:0,e.charCodeAt(y+1)){case 100:case 102:if(c>=h||t[c]==null)break;g<y&&(s+=e.slice(g,y)),s+=Number(t[c]),g=y+2,y++;break;case 105:if(c>=h||t[c]==null)break;g<y&&(s+=e.slice(g,y)),s+=Math.floor(Number(t[c])),g=y+2,y++;break;case 79:case 111:case 106:if(c>=h||t[c]===void 0)break;g<y&&(s+=e.slice(g,y));var m=typeof t[c];if(m==="string"){s+="'"+t[c]+"'",g=y+2,y++;break}if(m==="function"){s+=t[c].name||"<anonymous>",g=y+2,y++;break}s+=a(t[c]),g=y+2,y++;break;case 115:if(c>=h)break;g<y&&(s+=e.slice(g,y)),s+=String(t[c]),g=y+2,y++;break;case 37:g<y&&(s+=e.slice(g,y)),s+="%",g=y+2,y++,c--;break}++c}++y}return g===-1?e:(g<v&&(s+=e.slice(g)),s)}const En=So;var Tt=st;const Ht=Fo().console||{},Ao={mapHttpRequest:rr,mapHttpResponse:rr,wrapRequestSerializer:Ir,wrapResponseSerializer:Ir,wrapErrorSerializer:Ir,req:rr,res:rr,err:Uo};function Co(e,t){return Array.isArray(e)?e.filter(function(a){return a!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function st(e){e=e||{},e.browser=e.browser||{};const t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");const r=e.browser.write||Ht;e.browser.write&&(e.browser.asObject=!0);const a=e.serializers||{},o=Co(e.browser.serialize,a);let f=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(f=!1);const p=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),e.enabled===!1&&(e.level="silent");const u=e.level||"info",h=Object.create(r);h.log||(h.log=zt),Object.defineProperty(h,"levelVal",{get:c}),Object.defineProperty(h,"level",{get:g,set:v});const s={transmit:t,serialize:o,asObject:e.browser.asObject,levels:p,timestamp:No(e)};h.levels=st.levels,h.level=u,h.setMaxListeners=h.getMaxListeners=h.emit=h.addListener=h.on=h.prependListener=h.once=h.prependOnceListener=h.removeListener=h.removeAllListeners=h.listeners=h.listenerCount=h.eventNames=h.write=h.flush=zt,h.serializers=a,h._serialize=o,h._stdErrSerialize=f,h.child=y,t&&(h._logEvent=Fr());function c(){return this.level==="silent"?1/0:this.levels.values[this.level]}function g(){return this._level}function v(m){if(m!=="silent"&&!this.levels.values[m])throw Error("unknown level "+m);this._level=m,At(s,h,"error","log"),At(s,h,"fatal","error"),At(s,h,"warn","error"),At(s,h,"info","log"),At(s,h,"debug","log"),At(s,h,"trace","log")}function y(m,M){if(!m)throw new Error("missing bindings for child Pino");M=M||{},o&&m.serializers&&(M.serializers=m.serializers);const L=M.serializers;if(o&&L){var K=Object.assign({},a,L),E=e.browser.serialize===!0?Object.keys(K):o;delete m.serializers,_r([m],E,K,this._stdErrSerialize)}function C(b){this._childLevel=(b._childLevel|0)+1,this.error=Ct(b,m,"error"),this.fatal=Ct(b,m,"fatal"),this.warn=Ct(b,m,"warn"),this.info=Ct(b,m,"info"),this.debug=Ct(b,m,"debug"),this.trace=Ct(b,m,"trace"),K&&(this.serializers=K,this._serialize=E),t&&(this._logEvent=Fr([].concat(b._logEvent.bindings,m)))}return C.prototype=this,new C(this)}return h}st.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};st.stdSerializers=Ao;st.stdTimeFunctions=Object.assign({},{nullTime:Zn,epochTime:Qn,unixTime:Mo,isoTime:Ro});function At(e,t,r,a){const o=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?zt:o[r]?o[r]:Ht[r]||Ht[a]||zt,To(e,t,r)}function To(e,t,r){!e.transmit&&t[r]===zt||(t[r]=function(a){return function(){const f=e.timestamp(),p=new Array(arguments.length),u=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Ht?Ht:this;for(var h=0;h<p.length;h++)p[h]=arguments[h];if(e.serialize&&!e.asObject&&_r(p,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?a.call(u,Io(this,r,p,f)):a.apply(u,p),e.transmit){const s=e.transmit.level||t.level,c=st.levels.values[s],g=st.levels.values[r];if(g<c)return;Lo(this,{ts:f,methodLevel:r,methodValue:g,transmitLevel:s,transmitValue:st.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},p)}}}(t[r]))}function Io(e,t,r,a){e._serialize&&_r(r,e._serialize,e.serializers,e._stdErrSerialize);const o=r.slice();let f=o[0];const p={};a&&(p.time=a),p.level=st.levels.values[t];let u=(e._childLevel|0)+1;if(u<1&&(u=1),f!==null&&typeof f=="object"){for(;u--&&typeof o[0]=="object";)Object.assign(p,o.shift());f=o.length?En(o.shift(),o):void 0}else typeof f=="string"&&(f=En(o.shift(),o));return f!==void 0&&(p.msg=f),p}function _r(e,t,r,a){for(const o in e)if(a&&e[o]instanceof Error)e[o]=st.stdSerializers.err(e[o]);else if(typeof e[o]=="object"&&!Array.isArray(e[o]))for(const f in e[o])t&&t.indexOf(f)>-1&&f in r&&(e[o][f]=r[f](e[o][f]))}function Ct(e,t,r){return function(){const a=new Array(1+arguments.length);a[0]=t;for(var o=1;o<a.length;o++)a[o]=arguments[o-1];return e[r].apply(this,a)}}function Lo(e,t,r){const a=t.send,o=t.ts,f=t.methodLevel,p=t.methodValue,u=t.val,h=e._logEvent.bindings;_r(r,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=o,e._logEvent.messages=r.filter(function(s){return h.indexOf(s)===-1}),e._logEvent.level.label=f,e._logEvent.level.value=p,a(f,e._logEvent,u),e._logEvent=Fr(h)}function Fr(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function Uo(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const r in e)t[r]===void 0&&(t[r]=e[r]);return t}function No(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?Zn:Qn}function rr(){return{}}function Ir(e){return e}function zt(){}function Zn(){return!1}function Qn(){return Date.now()}function Mo(){return Math.round(Date.now()/1e3)}function Ro(){return new Date(Date.now()).toISOString()}function Fo(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}const ei=Yn(Tt),Po={level:"info"},Wt="custom_context",Yr=1e3*1024;class Bo{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class mn{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const r=new Bo(t);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let r=this.head;for(;r!==null;)t.push(r.value),r=r.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const r=t.value;return t=t.next,{done:!1,value:r}}}}}class ti{constructor(t,r=Yr){this.level=t??"error",this.levelValue=Tt.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new mn(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,r){r===Tt.levels.values.error?console.error(t):r===Tt.levels.values.warn?console.warn(t):r===Tt.levels.values.debug?console.debug(t):r===Tt.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(It({timestamp:new Date().toISOString(),log:t}));const r=typeof t=="string"?JSON.parse(t).level:t.level;r>=this.levelValue&&this.forwardToConsole(t,r)}getLogs(){return this.logs}clearLogs(){this.logs=new mn(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const r=this.getLogArray();return r.push(It({extraMetadata:t})),new Blob(r,{type:"application/json"})}}class jo{constructor(t,r=Yr){this.baseChunkLogger=new ti(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const r=URL.createObjectURL(this.logsToBlob(t)),a=document.createElement("a");a.href=r,a.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)}}class Ho{constructor(t,r=Yr){this.baseChunkLogger=new ti(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}}var zo=Object.defineProperty,$o=Object.defineProperties,Ko=Object.getOwnPropertyDescriptors,xn=Object.getOwnPropertySymbols,Wo=Object.prototype.hasOwnProperty,Go=Object.prototype.propertyIsEnumerable,Sn=(e,t,r)=>t in e?zo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ar=(e,t)=>{for(var r in t||(t={}))Wo.call(t,r)&&Sn(e,r,t[r]);if(xn)for(var r of xn(t))Go.call(t,r)&&Sn(e,r,t[r]);return e},or=(e,t)=>$o(e,Ko(t));function Ic(e){return or(ar({},e),{level:(e==null?void 0:e.level)||Po.level})}function Yo(e,t=Wt){return e[t]||""}function Vo(e,t,r=Wt){return e[r]=t,e}function qo(e,t=Wt){let r="";return typeof e.bindings>"u"?r=Yo(e,t):r=e.bindings().context||"",r}function Xo(e,t,r=Wt){const a=qo(e,r);return a.trim()?`${a}/${t}`:t}function Lc(e,t,r=Wt){const a=Xo(e,t,r),o=e.child({context:a});return Vo(o,a,r)}function Jo(e){var t,r;const a=new jo((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:ei(or(ar({},e.opts),{level:"trace",browser:or(ar({},(r=e.opts)==null?void 0:r.browser),{write:o=>a.write(o)})})),chunkLoggerController:a}}function ko(e){var t;const r=new Ho((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:ei(or(ar({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}function Uc(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Jo(e):ko(e)}var Vr={},br={},gr={},yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.BrowserRandomSource=void 0;const On=65536;class Zo{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t=typeof self<"u"?self.crypto||self.msCrypto:null;t&&t.getRandomValues!==void 0&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(t);for(let a=0;a<r.length;a+=On)this._crypto.getRandomValues(r.subarray(a,a+Math.min(r.length-a,On)));return r}}yr.BrowserRandomSource=Zo;function Qo(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wr={},Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});function es(e){for(var t=0;t<e.length;t++)e[t]=0;return e}Qe.wipe=es;Object.defineProperty(wr,"__esModule",{value:!0});wr.NodeRandomSource=void 0;const ts=Qe;class rs{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof Qo<"u"){const t=ga;t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(t);if(r.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const a=new Uint8Array(t);for(let o=0;o<a.length;o++)a[o]=r[o];return(0,ts.wipe)(r),a}}wr.NodeRandomSource=rs;Object.defineProperty(gr,"__esModule",{value:!0});gr.SystemRandomSource=void 0;const ns=yr,is=wr;class as{constructor(){if(this.isAvailable=!1,this.name="",this._source=new ns.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new is.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}gr.SystemRandomSource=as;var ee={},ri={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(u,h){var s=u>>>16&65535,c=u&65535,g=h>>>16&65535,v=h&65535;return c*v+(s*v+c*g<<16>>>0)|0}e.mul=Math.imul||t;function r(u,h){return u+h|0}e.add=r;function a(u,h){return u-h|0}e.sub=a;function o(u,h){return u<<h|u>>>32-h}e.rotl=o;function f(u,h){return u<<32-h|u>>>h}e.rotr=f;function p(u){return typeof u=="number"&&isFinite(u)&&Math.floor(u)===u}e.isInteger=Number.isInteger||p,e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(u){return e.isInteger(u)&&u>=-e.MAX_SAFE_INTEGER&&u<=e.MAX_SAFE_INTEGER}})(ri);Object.defineProperty(ee,"__esModule",{value:!0});var ni=ri;function os(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16}ee.readInt16BE=os;function ss(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])>>>0}ee.readUint16BE=ss;function fs(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])<<16>>16}ee.readInt16LE=fs;function us(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])>>>0}ee.readUint16LE=us;function ii(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}ee.writeUint16BE=ii;ee.writeInt16BE=ii;function ai(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}ee.writeUint16LE=ai;ee.writeInt16LE=ai;function Pr(e,t){return t===void 0&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}ee.readInt32BE=Pr;function Br(e,t){return t===void 0&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}ee.readUint32BE=Br;function jr(e,t){return t===void 0&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}ee.readInt32LE=jr;function Hr(e,t){return t===void 0&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}ee.readUint32LE=Hr;function sr(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}ee.writeUint32BE=sr;ee.writeInt32BE=sr;function fr(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}ee.writeUint32LE=fr;ee.writeInt32LE=fr;function cs(e,t){t===void 0&&(t=0);var r=Pr(e,t),a=Pr(e,t+4);return r*4294967296+a-(a>>31)*4294967296}ee.readInt64BE=cs;function ls(e,t){t===void 0&&(t=0);var r=Br(e,t),a=Br(e,t+4);return r*4294967296+a}ee.readUint64BE=ls;function hs(e,t){t===void 0&&(t=0);var r=jr(e,t),a=jr(e,t+4);return a*4294967296+r-(r>>31)*4294967296}ee.readInt64LE=hs;function ds(e,t){t===void 0&&(t=0);var r=Hr(e,t),a=Hr(e,t+4);return a*4294967296+r}ee.readUint64LE=ds;function oi(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),sr(e/4294967296>>>0,t,r),sr(e>>>0,t,r+4),t}ee.writeUint64BE=oi;ee.writeInt64BE=oi;function si(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),fr(e>>>0,t,r),fr(e/4294967296>>>0,t,r+4),t}ee.writeUint64LE=si;ee.writeInt64LE=si;function _s(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var a=0,o=1,f=e/8+r-1;f>=r;f--)a+=t[f]*o,o*=256;return a}ee.readUintBE=_s;function bs(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var a=0,o=1,f=r;f<r+e/8;f++)a+=t[f]*o,o*=256;return a}ee.readUintLE=bs;function gs(e,t,r,a){if(r===void 0&&(r=new Uint8Array(e/8)),a===void 0&&(a=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!ni.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var o=1,f=e/8+a-1;f>=a;f--)r[f]=t/o&255,o*=256;return r}ee.writeUintBE=gs;function ys(e,t,r,a){if(r===void 0&&(r=new Uint8Array(e/8)),a===void 0&&(a=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!ni.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var o=1,f=a;f<a+e/8;f++)r[f]=t/o&255,o*=256;return r}ee.writeUintLE=ys;function ws(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t)}ee.readFloat32BE=ws;function vs(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t,!0)}ee.readFloat32LE=vs;function Ds(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t)}ee.readFloat64BE=Ds;function ps(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t,!0)}ee.readFloat64LE=ps;function Es(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var a=new DataView(t.buffer,t.byteOffset,t.byteLength);return a.setFloat32(r,e),t}ee.writeFloat32BE=Es;function ms(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var a=new DataView(t.buffer,t.byteOffset,t.byteLength);return a.setFloat32(r,e,!0),t}ee.writeFloat32LE=ms;function xs(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var a=new DataView(t.buffer,t.byteOffset,t.byteLength);return a.setFloat64(r,e),t}ee.writeFloat64BE=xs;function Ss(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var a=new DataView(t.buffer,t.byteOffset,t.byteLength);return a.setFloat64(r,e,!0),t}ee.writeFloat64LE=Ss;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const t=gr,r=ee,a=Qe;e.defaultRandomSource=new t.SystemRandomSource;function o(s,c=e.defaultRandomSource){return c.randomBytes(s)}e.randomBytes=o;function f(s=e.defaultRandomSource){const c=o(4,s),g=(0,r.readUint32LE)(c);return(0,a.wipe)(c),g}e.randomUint32=f;const p="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function u(s,c=p,g=e.defaultRandomSource){if(c.length<2)throw new Error("randomString charset is too short");if(c.length>256)throw new Error("randomString charset is too long");let v="";const y=c.length,m=256-256%y;for(;s>0;){const M=o(Math.ceil(s*256/m),g);for(let L=0;L<M.length&&s>0;L++){const K=M[L];K<m&&(v+=c.charAt(K%y),s--)}(0,a.wipe)(M)}return v}e.randomString=u;function h(s,c=p,g=e.defaultRandomSource){const v=Math.ceil(s/(Math.log(c.length)/Math.LN2));return u(v,c,g)}e.randomStringForEntropy=h})(br);var fi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=ee,r=Qe;e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var a=function(){function u(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return u.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},u.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},u.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},u.prototype.update=function(h,s){if(s===void 0&&(s=h.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var c=0;if(this._bytesHashed+=s,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&s>0;)this._buffer[this._bufferLength++]=h[c++],s--;this._bufferLength===this.blockSize&&(f(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(s>=this.blockSize&&(c=f(this._tempHi,this._tempLo,this._stateHi,this._stateLo,h,c,s),s%=this.blockSize);s>0;)this._buffer[this._bufferLength++]=h[c++],s--;return this},u.prototype.finish=function(h){if(!this._finished){var s=this._bytesHashed,c=this._bufferLength,g=s/536870912|0,v=s<<3,y=s%128<112?128:256;this._buffer[c]=128;for(var m=c+1;m<y-8;m++)this._buffer[m]=0;t.writeUint32BE(g,this._buffer,y-8),t.writeUint32BE(v,this._buffer,y-4),f(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,y),this._finished=!0}for(var m=0;m<this.digestLength/8;m++)t.writeUint32BE(this._stateHi[m],h,m*8),t.writeUint32BE(this._stateLo[m],h,m*8+4);return this},u.prototype.digest=function(){var h=new Uint8Array(this.digestLength);return this.finish(h),h},u.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},u.prototype.restoreState=function(h){return this._stateHi.set(h.stateHi),this._stateLo.set(h.stateLo),this._bufferLength=h.bufferLength,h.buffer&&this._buffer.set(h.buffer),this._bytesHashed=h.bytesHashed,this._finished=!1,this},u.prototype.cleanSavedState=function(h){r.wipe(h.stateHi),r.wipe(h.stateLo),h.buffer&&r.wipe(h.buffer),h.bufferLength=0,h.bytesHashed=0},u}();e.SHA512=a;var o=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function f(u,h,s,c,g,v,y){for(var m=s[0],M=s[1],L=s[2],K=s[3],E=s[4],C=s[5],b=s[6],D=s[7],w=c[0],n=c[1],d=c[2],P=c[3],j=c[4],q=c[5],X=c[6],J=c[7],I,T,Y,B,N,R,F,H;y>=128;){for(var te=0;te<16;te++){var z=8*te+v;u[te]=t.readUint32BE(g,z),h[te]=t.readUint32BE(g,z+4)}for(var te=0;te<80;te++){var k=m,V=M,ae=L,A=K,O=E,x=C,i=b,_=D,$=w,W=n,ue=d,be=P,le=j,we=q,Ie=X,Oe=J;if(I=D,T=J,N=T&65535,R=T>>>16,F=I&65535,H=I>>>16,I=(E>>>14|j<<18)^(E>>>18|j<<14)^(j>>>9|E<<23),T=(j>>>14|E<<18)^(j>>>18|E<<14)^(E>>>9|j<<23),N+=T&65535,R+=T>>>16,F+=I&65535,H+=I>>>16,I=E&C^~E&b,T=j&q^~j&X,N+=T&65535,R+=T>>>16,F+=I&65535,H+=I>>>16,I=o[te*2],T=o[te*2+1],N+=T&65535,R+=T>>>16,F+=I&65535,H+=I>>>16,I=u[te%16],T=h[te%16],N+=T&65535,R+=T>>>16,F+=I&65535,H+=I>>>16,R+=N>>>16,F+=R>>>16,H+=F>>>16,Y=F&65535|H<<16,B=N&65535|R<<16,I=Y,T=B,N=T&65535,R=T>>>16,F=I&65535,H=I>>>16,I=(m>>>28|w<<4)^(w>>>2|m<<30)^(w>>>7|m<<25),T=(w>>>28|m<<4)^(m>>>2|w<<30)^(m>>>7|w<<25),N+=T&65535,R+=T>>>16,F+=I&65535,H+=I>>>16,I=m&M^m&L^M&L,T=w&n^w&d^n&d,N+=T&65535,R+=T>>>16,F+=I&65535,H+=I>>>16,R+=N>>>16,F+=R>>>16,H+=F>>>16,_=F&65535|H<<16,Oe=N&65535|R<<16,I=A,T=be,N=T&65535,R=T>>>16,F=I&65535,H=I>>>16,I=Y,T=B,N+=T&65535,R+=T>>>16,F+=I&65535,H+=I>>>16,R+=N>>>16,F+=R>>>16,H+=F>>>16,A=F&65535|H<<16,be=N&65535|R<<16,M=k,L=V,K=ae,E=A,C=O,b=x,D=i,m=_,n=$,d=W,P=ue,j=be,q=le,X=we,J=Ie,w=Oe,te%16===15)for(var z=0;z<16;z++)I=u[z],T=h[z],N=T&65535,R=T>>>16,F=I&65535,H=I>>>16,I=u[(z+9)%16],T=h[(z+9)%16],N+=T&65535,R+=T>>>16,F+=I&65535,H+=I>>>16,Y=u[(z+1)%16],B=h[(z+1)%16],I=(Y>>>1|B<<31)^(Y>>>8|B<<24)^Y>>>7,T=(B>>>1|Y<<31)^(B>>>8|Y<<24)^(B>>>7|Y<<25),N+=T&65535,R+=T>>>16,F+=I&65535,H+=I>>>16,Y=u[(z+14)%16],B=h[(z+14)%16],I=(Y>>>19|B<<13)^(B>>>29|Y<<3)^Y>>>6,T=(B>>>19|Y<<13)^(Y>>>29|B<<3)^(B>>>6|Y<<26),N+=T&65535,R+=T>>>16,F+=I&65535,H+=I>>>16,R+=N>>>16,F+=R>>>16,H+=F>>>16,u[z]=F&65535|H<<16,h[z]=N&65535|R<<16}I=m,T=w,N=T&65535,R=T>>>16,F=I&65535,H=I>>>16,I=s[0],T=c[0],N+=T&65535,R+=T>>>16,F+=I&65535,H+=I>>>16,R+=N>>>16,F+=R>>>16,H+=F>>>16,s[0]=m=F&65535|H<<16,c[0]=w=N&65535|R<<16,I=M,T=n,N=T&65535,R=T>>>16,F=I&65535,H=I>>>16,I=s[1],T=c[1],N+=T&65535,R+=T>>>16,F+=I&65535,H+=I>>>16,R+=N>>>16,F+=R>>>16,H+=F>>>16,s[1]=M=F&65535|H<<16,c[1]=n=N&65535|R<<16,I=L,T=d,N=T&65535,R=T>>>16,F=I&65535,H=I>>>16,I=s[2],T=c[2],N+=T&65535,R+=T>>>16,F+=I&65535,H+=I>>>16,R+=N>>>16,F+=R>>>16,H+=F>>>16,s[2]=L=F&65535|H<<16,c[2]=d=N&65535|R<<16,I=K,T=P,N=T&65535,R=T>>>16,F=I&65535,H=I>>>16,I=s[3],T=c[3],N+=T&65535,R+=T>>>16,F+=I&65535,H+=I>>>16,R+=N>>>16,F+=R>>>16,H+=F>>>16,s[3]=K=F&65535|H<<16,c[3]=P=N&65535|R<<16,I=E,T=j,N=T&65535,R=T>>>16,F=I&65535,H=I>>>16,I=s[4],T=c[4],N+=T&65535,R+=T>>>16,F+=I&65535,H+=I>>>16,R+=N>>>16,F+=R>>>16,H+=F>>>16,s[4]=E=F&65535|H<<16,c[4]=j=N&65535|R<<16,I=C,T=q,N=T&65535,R=T>>>16,F=I&65535,H=I>>>16,I=s[5],T=c[5],N+=T&65535,R+=T>>>16,F+=I&65535,H+=I>>>16,R+=N>>>16,F+=R>>>16,H+=F>>>16,s[5]=C=F&65535|H<<16,c[5]=q=N&65535|R<<16,I=b,T=X,N=T&65535,R=T>>>16,F=I&65535,H=I>>>16,I=s[6],T=c[6],N+=T&65535,R+=T>>>16,F+=I&65535,H+=I>>>16,R+=N>>>16,F+=R>>>16,H+=F>>>16,s[6]=b=F&65535|H<<16,c[6]=X=N&65535|R<<16,I=D,T=J,N=T&65535,R=T>>>16,F=I&65535,H=I>>>16,I=s[7],T=c[7],N+=T&65535,R+=T>>>16,F+=I&65535,H+=I>>>16,R+=N>>>16,F+=R>>>16,H+=F>>>16,s[7]=D=F&65535|H<<16,c[7]=J=N&65535|R<<16,v+=128,y-=128}return v}function p(u){var h=new a;h.update(u);var s=h.digest();return h.clean(),s}e.hash=p})(fi);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertSecretKeyToX25519=e.convertPublicKeyToX25519=e.verify=e.sign=e.extractPublicKeyFromSecretKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.SEED_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=e.SIGNATURE_LENGTH=void 0;const t=br,r=fi,a=Qe;e.SIGNATURE_LENGTH=64,e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=64,e.SEED_LENGTH=32;function o(A){const O=new Float64Array(16);if(A)for(let x=0;x<A.length;x++)O[x]=A[x];return O}const f=new Uint8Array(32);f[0]=9;const p=o(),u=o([1]),h=o([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),s=o([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),c=o([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),g=o([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),v=o([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function y(A,O){for(let x=0;x<16;x++)A[x]=O[x]|0}function m(A){let O=1;for(let x=0;x<16;x++){let i=A[x]+O+65535;O=Math.floor(i/65536),A[x]=i-O*65536}A[0]+=O-1+37*(O-1)}function M(A,O,x){const i=~(x-1);for(let _=0;_<16;_++){const $=i&(A[_]^O[_]);A[_]^=$,O[_]^=$}}function L(A,O){const x=o(),i=o();for(let _=0;_<16;_++)i[_]=O[_];m(i),m(i),m(i);for(let _=0;_<2;_++){x[0]=i[0]-65517;for(let W=1;W<15;W++)x[W]=i[W]-65535-(x[W-1]>>16&1),x[W-1]&=65535;x[15]=i[15]-32767-(x[14]>>16&1);const $=x[15]>>16&1;x[14]&=65535,M(i,x,1-$)}for(let _=0;_<16;_++)A[2*_]=i[_]&255,A[2*_+1]=i[_]>>8}function K(A,O){let x=0;for(let i=0;i<32;i++)x|=A[i]^O[i];return(1&x-1>>>8)-1}function E(A,O){const x=new Uint8Array(32),i=new Uint8Array(32);return L(x,A),L(i,O),K(x,i)}function C(A){const O=new Uint8Array(32);return L(O,A),O[0]&1}function b(A,O){for(let x=0;x<16;x++)A[x]=O[2*x]+(O[2*x+1]<<8);A[15]&=32767}function D(A,O,x){for(let i=0;i<16;i++)A[i]=O[i]+x[i]}function w(A,O,x){for(let i=0;i<16;i++)A[i]=O[i]-x[i]}function n(A,O,x){let i,_,$=0,W=0,ue=0,be=0,le=0,we=0,Ie=0,Oe=0,_e=0,he=0,ce=0,se=0,oe=0,ie=0,ne=0,Z=0,fe=0,de=0,Q=0,ge=0,ye=0,De=0,pe=0,ve=0,rt=0,it=0,ht=0,ke=0,yt=0,Nt=0,Vt=0,Le=x[0],Ae=x[1],Ue=x[2],Ne=x[3],Me=x[4],Ce=x[5],Pe=x[6],Be=x[7],je=x[8],He=x[9],ze=x[10],Fe=x[11],Re=x[12],xe=x[13],$e=x[14],Ke=x[15];i=O[0],$+=i*Le,W+=i*Ae,ue+=i*Ue,be+=i*Ne,le+=i*Me,we+=i*Ce,Ie+=i*Pe,Oe+=i*Be,_e+=i*je,he+=i*He,ce+=i*ze,se+=i*Fe,oe+=i*Re,ie+=i*xe,ne+=i*$e,Z+=i*Ke,i=O[1],W+=i*Le,ue+=i*Ae,be+=i*Ue,le+=i*Ne,we+=i*Me,Ie+=i*Ce,Oe+=i*Pe,_e+=i*Be,he+=i*je,ce+=i*He,se+=i*ze,oe+=i*Fe,ie+=i*Re,ne+=i*xe,Z+=i*$e,fe+=i*Ke,i=O[2],ue+=i*Le,be+=i*Ae,le+=i*Ue,we+=i*Ne,Ie+=i*Me,Oe+=i*Ce,_e+=i*Pe,he+=i*Be,ce+=i*je,se+=i*He,oe+=i*ze,ie+=i*Fe,ne+=i*Re,Z+=i*xe,fe+=i*$e,de+=i*Ke,i=O[3],be+=i*Le,le+=i*Ae,we+=i*Ue,Ie+=i*Ne,Oe+=i*Me,_e+=i*Ce,he+=i*Pe,ce+=i*Be,se+=i*je,oe+=i*He,ie+=i*ze,ne+=i*Fe,Z+=i*Re,fe+=i*xe,de+=i*$e,Q+=i*Ke,i=O[4],le+=i*Le,we+=i*Ae,Ie+=i*Ue,Oe+=i*Ne,_e+=i*Me,he+=i*Ce,ce+=i*Pe,se+=i*Be,oe+=i*je,ie+=i*He,ne+=i*ze,Z+=i*Fe,fe+=i*Re,de+=i*xe,Q+=i*$e,ge+=i*Ke,i=O[5],we+=i*Le,Ie+=i*Ae,Oe+=i*Ue,_e+=i*Ne,he+=i*Me,ce+=i*Ce,se+=i*Pe,oe+=i*Be,ie+=i*je,ne+=i*He,Z+=i*ze,fe+=i*Fe,de+=i*Re,Q+=i*xe,ge+=i*$e,ye+=i*Ke,i=O[6],Ie+=i*Le,Oe+=i*Ae,_e+=i*Ue,he+=i*Ne,ce+=i*Me,se+=i*Ce,oe+=i*Pe,ie+=i*Be,ne+=i*je,Z+=i*He,fe+=i*ze,de+=i*Fe,Q+=i*Re,ge+=i*xe,ye+=i*$e,De+=i*Ke,i=O[7],Oe+=i*Le,_e+=i*Ae,he+=i*Ue,ce+=i*Ne,se+=i*Me,oe+=i*Ce,ie+=i*Pe,ne+=i*Be,Z+=i*je,fe+=i*He,de+=i*ze,Q+=i*Fe,ge+=i*Re,ye+=i*xe,De+=i*$e,pe+=i*Ke,i=O[8],_e+=i*Le,he+=i*Ae,ce+=i*Ue,se+=i*Ne,oe+=i*Me,ie+=i*Ce,ne+=i*Pe,Z+=i*Be,fe+=i*je,de+=i*He,Q+=i*ze,ge+=i*Fe,ye+=i*Re,De+=i*xe,pe+=i*$e,ve+=i*Ke,i=O[9],he+=i*Le,ce+=i*Ae,se+=i*Ue,oe+=i*Ne,ie+=i*Me,ne+=i*Ce,Z+=i*Pe,fe+=i*Be,de+=i*je,Q+=i*He,ge+=i*ze,ye+=i*Fe,De+=i*Re,pe+=i*xe,ve+=i*$e,rt+=i*Ke,i=O[10],ce+=i*Le,se+=i*Ae,oe+=i*Ue,ie+=i*Ne,ne+=i*Me,Z+=i*Ce,fe+=i*Pe,de+=i*Be,Q+=i*je,ge+=i*He,ye+=i*ze,De+=i*Fe,pe+=i*Re,ve+=i*xe,rt+=i*$e,it+=i*Ke,i=O[11],se+=i*Le,oe+=i*Ae,ie+=i*Ue,ne+=i*Ne,Z+=i*Me,fe+=i*Ce,de+=i*Pe,Q+=i*Be,ge+=i*je,ye+=i*He,De+=i*ze,pe+=i*Fe,ve+=i*Re,rt+=i*xe,it+=i*$e,ht+=i*Ke,i=O[12],oe+=i*Le,ie+=i*Ae,ne+=i*Ue,Z+=i*Ne,fe+=i*Me,de+=i*Ce,Q+=i*Pe,ge+=i*Be,ye+=i*je,De+=i*He,pe+=i*ze,ve+=i*Fe,rt+=i*Re,it+=i*xe,ht+=i*$e,ke+=i*Ke,i=O[13],ie+=i*Le,ne+=i*Ae,Z+=i*Ue,fe+=i*Ne,de+=i*Me,Q+=i*Ce,ge+=i*Pe,ye+=i*Be,De+=i*je,pe+=i*He,ve+=i*ze,rt+=i*Fe,it+=i*Re,ht+=i*xe,ke+=i*$e,yt+=i*Ke,i=O[14],ne+=i*Le,Z+=i*Ae,fe+=i*Ue,de+=i*Ne,Q+=i*Me,ge+=i*Ce,ye+=i*Pe,De+=i*Be,pe+=i*je,ve+=i*He,rt+=i*ze,it+=i*Fe,ht+=i*Re,ke+=i*xe,yt+=i*$e,Nt+=i*Ke,i=O[15],Z+=i*Le,fe+=i*Ae,de+=i*Ue,Q+=i*Ne,ge+=i*Me,ye+=i*Ce,De+=i*Pe,pe+=i*Be,ve+=i*je,rt+=i*He,it+=i*ze,ht+=i*Fe,ke+=i*Re,yt+=i*xe,Nt+=i*$e,Vt+=i*Ke,$+=38*fe,W+=38*de,ue+=38*Q,be+=38*ge,le+=38*ye,we+=38*De,Ie+=38*pe,Oe+=38*ve,_e+=38*rt,he+=38*it,ce+=38*ht,se+=38*ke,oe+=38*yt,ie+=38*Nt,ne+=38*Vt,_=1,i=$+_+65535,_=Math.floor(i/65536),$=i-_*65536,i=W+_+65535,_=Math.floor(i/65536),W=i-_*65536,i=ue+_+65535,_=Math.floor(i/65536),ue=i-_*65536,i=be+_+65535,_=Math.floor(i/65536),be=i-_*65536,i=le+_+65535,_=Math.floor(i/65536),le=i-_*65536,i=we+_+65535,_=Math.floor(i/65536),we=i-_*65536,i=Ie+_+65535,_=Math.floor(i/65536),Ie=i-_*65536,i=Oe+_+65535,_=Math.floor(i/65536),Oe=i-_*65536,i=_e+_+65535,_=Math.floor(i/65536),_e=i-_*65536,i=he+_+65535,_=Math.floor(i/65536),he=i-_*65536,i=ce+_+65535,_=Math.floor(i/65536),ce=i-_*65536,i=se+_+65535,_=Math.floor(i/65536),se=i-_*65536,i=oe+_+65535,_=Math.floor(i/65536),oe=i-_*65536,i=ie+_+65535,_=Math.floor(i/65536),ie=i-_*65536,i=ne+_+65535,_=Math.floor(i/65536),ne=i-_*65536,i=Z+_+65535,_=Math.floor(i/65536),Z=i-_*65536,$+=_-1+37*(_-1),_=1,i=$+_+65535,_=Math.floor(i/65536),$=i-_*65536,i=W+_+65535,_=Math.floor(i/65536),W=i-_*65536,i=ue+_+65535,_=Math.floor(i/65536),ue=i-_*65536,i=be+_+65535,_=Math.floor(i/65536),be=i-_*65536,i=le+_+65535,_=Math.floor(i/65536),le=i-_*65536,i=we+_+65535,_=Math.floor(i/65536),we=i-_*65536,i=Ie+_+65535,_=Math.floor(i/65536),Ie=i-_*65536,i=Oe+_+65535,_=Math.floor(i/65536),Oe=i-_*65536,i=_e+_+65535,_=Math.floor(i/65536),_e=i-_*65536,i=he+_+65535,_=Math.floor(i/65536),he=i-_*65536,i=ce+_+65535,_=Math.floor(i/65536),ce=i-_*65536,i=se+_+65535,_=Math.floor(i/65536),se=i-_*65536,i=oe+_+65535,_=Math.floor(i/65536),oe=i-_*65536,i=ie+_+65535,_=Math.floor(i/65536),ie=i-_*65536,i=ne+_+65535,_=Math.floor(i/65536),ne=i-_*65536,i=Z+_+65535,_=Math.floor(i/65536),Z=i-_*65536,$+=_-1+37*(_-1),A[0]=$,A[1]=W,A[2]=ue,A[3]=be,A[4]=le,A[5]=we,A[6]=Ie,A[7]=Oe,A[8]=_e,A[9]=he,A[10]=ce,A[11]=se,A[12]=oe,A[13]=ie,A[14]=ne,A[15]=Z}function d(A,O){n(A,O,O)}function P(A,O){const x=o();let i;for(i=0;i<16;i++)x[i]=O[i];for(i=253;i>=0;i--)d(x,x),i!==2&&i!==4&&n(x,x,O);for(i=0;i<16;i++)A[i]=x[i]}function j(A,O){const x=o();let i;for(i=0;i<16;i++)x[i]=O[i];for(i=250;i>=0;i--)d(x,x),i!==1&&n(x,x,O);for(i=0;i<16;i++)A[i]=x[i]}function q(A,O){const x=o(),i=o(),_=o(),$=o(),W=o(),ue=o(),be=o(),le=o(),we=o();w(x,A[1],A[0]),w(we,O[1],O[0]),n(x,x,we),D(i,A[0],A[1]),D(we,O[0],O[1]),n(i,i,we),n(_,A[3],O[3]),n(_,_,s),n($,A[2],O[2]),D($,$,$),w(W,i,x),w(ue,$,_),D(be,$,_),D(le,i,x),n(A[0],W,ue),n(A[1],le,be),n(A[2],be,ue),n(A[3],W,le)}function X(A,O,x){for(let i=0;i<4;i++)M(A[i],O[i],x)}function J(A,O){const x=o(),i=o(),_=o();P(_,O[2]),n(x,O[0],_),n(i,O[1],_),L(A,i),A[31]^=C(x)<<7}function I(A,O,x){y(A[0],p),y(A[1],u),y(A[2],u),y(A[3],p);for(let i=255;i>=0;--i){const _=x[i/8|0]>>(i&7)&1;X(A,O,_),q(O,A),q(A,A),X(A,O,_)}}function T(A,O){const x=[o(),o(),o(),o()];y(x[0],c),y(x[1],g),y(x[2],u),n(x[3],c,g),I(A,x,O)}function Y(A){if(A.length!==e.SEED_LENGTH)throw new Error(`ed25519: seed must be ${e.SEED_LENGTH} bytes`);const O=(0,r.hash)(A);O[0]&=248,O[31]&=127,O[31]|=64;const x=new Uint8Array(32),i=[o(),o(),o(),o()];T(i,O),J(x,i);const _=new Uint8Array(64);return _.set(A),_.set(x,32),{publicKey:x,secretKey:_}}e.generateKeyPairFromSeed=Y;function B(A){const O=(0,t.randomBytes)(32,A),x=Y(O);return(0,a.wipe)(O),x}e.generateKeyPair=B;function N(A){if(A.length!==e.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${e.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(A.subarray(32))}e.extractPublicKeyFromSecretKey=N;const R=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function F(A,O){let x,i,_,$;for(i=63;i>=32;--i){for(x=0,_=i-32,$=i-12;_<$;++_)O[_]+=x-16*O[i]*R[_-(i-32)],x=Math.floor((O[_]+128)/256),O[_]-=x*256;O[_]+=x,O[i]=0}for(x=0,_=0;_<32;_++)O[_]+=x-(O[31]>>4)*R[_],x=O[_]>>8,O[_]&=255;for(_=0;_<32;_++)O[_]-=x*R[_];for(i=0;i<32;i++)O[i+1]+=O[i]>>8,A[i]=O[i]&255}function H(A){const O=new Float64Array(64);for(let x=0;x<64;x++)O[x]=A[x];for(let x=0;x<64;x++)A[x]=0;F(A,O)}function te(A,O){const x=new Float64Array(64),i=[o(),o(),o(),o()],_=(0,r.hash)(A.subarray(0,32));_[0]&=248,_[31]&=127,_[31]|=64;const $=new Uint8Array(64);$.set(_.subarray(32),32);const W=new r.SHA512;W.update($.subarray(32)),W.update(O);const ue=W.digest();W.clean(),H(ue),T(i,ue),J($,i),W.reset(),W.update($.subarray(0,32)),W.update(A.subarray(32)),W.update(O);const be=W.digest();H(be);for(let le=0;le<32;le++)x[le]=ue[le];for(let le=0;le<32;le++)for(let we=0;we<32;we++)x[le+we]+=be[le]*_[we];return F($.subarray(32),x),$}e.sign=te;function z(A,O){const x=o(),i=o(),_=o(),$=o(),W=o(),ue=o(),be=o();return y(A[2],u),b(A[1],O),d(_,A[1]),n($,_,h),w(_,_,A[2]),D($,A[2],$),d(W,$),d(ue,W),n(be,ue,W),n(x,be,_),n(x,x,$),j(x,x),n(x,x,_),n(x,x,$),n(x,x,$),n(A[0],x,$),d(i,A[0]),n(i,i,$),E(i,_)&&n(A[0],A[0],v),d(i,A[0]),n(i,i,$),E(i,_)?-1:(C(A[0])===O[31]>>7&&w(A[0],p,A[0]),n(A[3],A[0],A[1]),0)}function k(A,O,x){const i=new Uint8Array(32),_=[o(),o(),o(),o()],$=[o(),o(),o(),o()];if(x.length!==e.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${e.SIGNATURE_LENGTH} bytes`);if(z($,A))return!1;const W=new r.SHA512;W.update(x.subarray(0,32)),W.update(A),W.update(O);const ue=W.digest();return H(ue),I(_,$,ue),T($,x.subarray(32)),q(_,$),J(i,_),!K(x,i)}e.verify=k;function V(A){let O=[o(),o(),o(),o()];if(z(O,A))throw new Error("Ed25519: invalid public key");let x=o(),i=o(),_=O[1];D(x,u,_),w(i,u,_),P(i,i),n(x,x,i);let $=new Uint8Array(32);return L($,x),$}e.convertPublicKeyToX25519=V;function ae(A){const O=(0,r.hash)(A.subarray(0,32));O[0]&=248,O[31]&=127,O[31]|=64;const x=new Uint8Array(O.subarray(0,32));return(0,a.wipe)(O),x}e.convertSecretKeyToX25519=ae})(Vr);const Os="EdDSA",As="JWT",ur=".",vr="base64url",ui="utf8",ci="utf8",Cs=":",Ts="did",Is="key",An="base58btc",Ls="z",Us="K36",Ns=32;function qr(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function li(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?qr(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Ms(e,t){t||(t=e.reduce((o,f)=>o+f.length,0));const r=li(t);let a=0;for(const o of e)r.set(o,a),a+=o.length;return qr(r)}function Rs(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),a=0;a<r.length;a++)r[a]=255;for(var o=0;o<e.length;o++){var f=e.charAt(o),p=f.charCodeAt(0);if(r[p]!==255)throw new TypeError(f+" is ambiguous");r[p]=o}var u=e.length,h=e.charAt(0),s=Math.log(u)/Math.log(256),c=Math.log(256)/Math.log(u);function g(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var M=0,L=0,K=0,E=m.length;K!==E&&m[K]===0;)K++,M++;for(var C=(E-K)*c+1>>>0,b=new Uint8Array(C);K!==E;){for(var D=m[K],w=0,n=C-1;(D!==0||w<L)&&n!==-1;n--,w++)D+=256*b[n]>>>0,b[n]=D%u>>>0,D=D/u>>>0;if(D!==0)throw new Error("Non-zero carry");L=w,K++}for(var d=C-L;d!==C&&b[d]===0;)d++;for(var P=h.repeat(M);d<C;++d)P+=e.charAt(b[d]);return P}function v(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var M=0;if(m[M]!==" "){for(var L=0,K=0;m[M]===h;)L++,M++;for(var E=(m.length-M)*s+1>>>0,C=new Uint8Array(E);m[M];){var b=r[m.charCodeAt(M)];if(b===255)return;for(var D=0,w=E-1;(b!==0||D<K)&&w!==-1;w--,D++)b+=u*C[w]>>>0,C[w]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");K=D,M++}if(m[M]!==" "){for(var n=E-K;n!==E&&C[n]===0;)n++;for(var d=new Uint8Array(L+(E-n)),P=L;n!==E;)d[P++]=C[n++];return d}}}function y(m){var M=v(m);if(M)return M;throw new Error(`Non-${t} character`)}return{encode:g,decodeUnsafe:v,decode:y}}var Fs=Rs,Ps=Fs;const Bs=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},js=e=>new TextEncoder().encode(e),Hs=e=>new TextDecoder().decode(e);class zs{constructor(t,r,a){this.name=t,this.prefix=r,this.baseEncode=a}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class $s{constructor(t,r,a){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=a}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return hi(this,t)}}class Ks{constructor(t){this.decoders=t}or(t){return hi(this,t)}decode(t){const r=t[0],a=this.decoders[r];if(a)return a.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const hi=(e,t)=>new Ks({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Ws{constructor(t,r,a,o){this.name=t,this.prefix=r,this.baseEncode=a,this.baseDecode=o,this.encoder=new zs(t,r,a),this.decoder=new $s(t,r,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Dr=({name:e,prefix:t,encode:r,decode:a})=>new Ws(e,t,r,a),Gt=({prefix:e,name:t,alphabet:r})=>{const{encode:a,decode:o}=Ps(r,t);return Dr({prefix:e,name:t,encode:a,decode:f=>Bs(o(f))})},Gs=(e,t,r,a)=>{const o={};for(let c=0;c<t.length;++c)o[t[c]]=c;let f=e.length;for(;e[f-1]==="=";)--f;const p=new Uint8Array(f*r/8|0);let u=0,h=0,s=0;for(let c=0;c<f;++c){const g=o[e[c]];if(g===void 0)throw new SyntaxError(`Non-${a} character`);h=h<<r|g,u+=r,u>=8&&(u-=8,p[s++]=255&h>>u)}if(u>=r||255&h<<8-u)throw new SyntaxError("Unexpected end of data");return p},Ys=(e,t,r)=>{const a=t[t.length-1]==="=",o=(1<<r)-1;let f="",p=0,u=0;for(let h=0;h<e.length;++h)for(u=u<<8|e[h],p+=8;p>r;)p-=r,f+=t[o&u>>p];if(p&&(f+=t[o&u<<r-p]),a)for(;f.length*r&7;)f+="=";return f},Ve=({name:e,prefix:t,bitsPerChar:r,alphabet:a})=>Dr({prefix:t,name:e,encode(o){return Ys(o,a,r)},decode(o){return Gs(o,a,r,e)}}),Vs=Dr({prefix:"\0",name:"identity",encode:e=>Hs(e),decode:e=>js(e)}),qs=Object.freeze(Object.defineProperty({__proto__:null,identity:Vs},Symbol.toStringTag,{value:"Module"})),Xs=Ve({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Js=Object.freeze(Object.defineProperty({__proto__:null,base2:Xs},Symbol.toStringTag,{value:"Module"})),ks=Ve({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Zs=Object.freeze(Object.defineProperty({__proto__:null,base8:ks},Symbol.toStringTag,{value:"Module"})),Qs=Gt({prefix:"9",name:"base10",alphabet:"0123456789"}),ef=Object.freeze(Object.defineProperty({__proto__:null,base10:Qs},Symbol.toStringTag,{value:"Module"})),tf=Ve({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),rf=Ve({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),nf=Object.freeze(Object.defineProperty({__proto__:null,base16:tf,base16upper:rf},Symbol.toStringTag,{value:"Module"})),af=Ve({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),of=Ve({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),sf=Ve({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ff=Ve({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),uf=Ve({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),cf=Ve({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),lf=Ve({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),hf=Ve({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),df=Ve({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),_f=Object.freeze(Object.defineProperty({__proto__:null,base32:af,base32hex:uf,base32hexpad:lf,base32hexpadupper:hf,base32hexupper:cf,base32pad:sf,base32padupper:ff,base32upper:of,base32z:df},Symbol.toStringTag,{value:"Module"})),bf=Gt({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),gf=Gt({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),yf=Object.freeze(Object.defineProperty({__proto__:null,base36:bf,base36upper:gf},Symbol.toStringTag,{value:"Module"})),wf=Gt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),vf=Gt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Df=Object.freeze(Object.defineProperty({__proto__:null,base58btc:wf,base58flickr:vf},Symbol.toStringTag,{value:"Module"})),pf=Ve({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ef=Ve({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),mf=Ve({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),xf=Ve({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Sf=Object.freeze(Object.defineProperty({__proto__:null,base64:pf,base64pad:Ef,base64url:mf,base64urlpad:xf},Symbol.toStringTag,{value:"Module"})),di=Array.from(""),Of=di.reduce((e,t,r)=>(e[r]=t,e),[]),Af=di.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function Cf(e){return e.reduce((t,r)=>(t+=Of[r],t),"")}function Tf(e){const t=[];for(const r of e){const a=Af[r.codePointAt(0)];if(a===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(a)}return new Uint8Array(t)}const If=Dr({prefix:"",name:"base256emoji",encode:Cf,decode:Tf}),Lf=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:If},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Cn={...qs,...Js,...Zs,...ef,...nf,..._f,...yf,...Df,...Sf,...Lf};function _i(e,t,r,a){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:a}}}const Tn=_i("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Lr=_i("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=li(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),bi={utf8:Tn,"utf-8":Tn,hex:Cn.base16,latin1:Lr,ascii:Lr,binary:Lr,...Cn};function pr(e,t="utf8"){const r=bi[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function Lt(e,t="utf8"){const r=bi[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?qr(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function In(e){return hr(pr(Lt(e,vr),ui))}function cr(e){return pr(Lt(It(e),ui),vr)}function Uf(e){const t=Lt(Us,An),r=Ls+pr(Ms([t,e]),An);return[Ts,Is,r].join(Cs)}function Nf(e){return pr(e,vr)}function Mf(e){return Lt(e,vr)}function Rf(e){return Lt([cr(e.header),cr(e.payload)].join(ur),ci)}function Ff(e){return[cr(e.header),cr(e.payload),Nf(e.signature)].join(ur)}function Nc(e){const t=e.split(ur),r=In(t[0]),a=In(t[1]),o=Mf(t[2]),f=Lt(t.slice(0,2).join(ur),ci);return{header:r,payload:a,signature:o,data:f}}function Mc(e=br.randomBytes(Ns)){return Vr.generateKeyPairFromSeed(e)}async function Rc(e,t,r,a,o=Xn.fromMiliseconds(Date.now())){const f={alg:Os,typ:As},p=Uf(a.publicKey),u=o+r,h={iss:p,sub:e,aud:t,iat:o,exp:u},s=Rf({header:f,payload:h}),c=Vr.sign(a.secretKey,s);return Ff({header:f,payload:h,signature:c})}var Ln=function(e,t,r){if(r||arguments.length===2)for(var a=0,o=t.length,f;a<o;a++)(f||!(a in t))&&(f||(f=Array.prototype.slice.call(t,0,a)),f[a]=t[a]);return e.concat(f||Array.prototype.slice.call(t))},Pf=function(){function e(t,r,a){this.name=t,this.version=r,this.os=a,this.type="browser"}return e}(),Bf=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),jf=function(){function e(t,r,a,o){this.name=t,this.version=r,this.os=a,this.bot=o,this.type="bot-device"}return e}(),Hf=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),zf=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),$f=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Kf=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Un=3,Wf=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",$f]],Nn=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Fc(e){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new zf:typeof navigator<"u"?Yf(navigator.userAgent):qf()}function Gf(e){return e!==""&&Wf.reduce(function(t,r){var a=r[0],o=r[1];if(t)return t;var f=o.exec(e);return!!f&&[a,f]},!1)}function Yf(e){var t=Gf(e);if(!t)return null;var r=t[0],a=t[1];if(r==="searchbot")return new Hf;var o=a[1]&&a[1].split(".").join("_").split("_").slice(0,3);o?o.length<Un&&(o=Ln(Ln([],o,!0),Xf(Un-o.length),!0)):o=[];var f=o.join("."),p=Vf(e),u=Kf.exec(e);return u&&u[1]?new jf(r,f,p,u[1]):new Pf(r,f,p)}function Vf(e){for(var t=0,r=Nn.length;t<r;t++){var a=Nn[t],o=a[0],f=a[1],p=f.exec(e);if(p)return o}return null}function qf(){var e=typeof process<"u"&&process.version;return e?new Bf(process.version.slice(1)):null}function Xf(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.getLocalStorage=Ee.getLocalStorageOrThrow=Ee.getCrypto=Ee.getCryptoOrThrow=iu=Ee.getLocation=Ee.getLocationOrThrow=tu=Ee.getNavigator=Ee.getNavigatorOrThrow=Zf=Ee.getDocument=Ee.getDocumentOrThrow=Ee.getFromWindowOrThrow=Ee.getFromWindow=void 0;function xt(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}Ee.getFromWindow=xt;function Ut(e){const t=xt(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Ee.getFromWindowOrThrow=Ut;function Jf(){return Ut("document")}Ee.getDocumentOrThrow=Jf;function kf(){return xt("document")}var Zf=Ee.getDocument=kf;function Qf(){return Ut("navigator")}Ee.getNavigatorOrThrow=Qf;function eu(){return xt("navigator")}var tu=Ee.getNavigator=eu;function ru(){return Ut("location")}Ee.getLocationOrThrow=ru;function nu(){return xt("location")}var iu=Ee.getLocation=nu;function au(){return Ut("crypto")}Ee.getCryptoOrThrow=au;function ou(){return xt("crypto")}Ee.getCrypto=ou;function su(){return Ut("localStorage")}Ee.getLocalStorageOrThrow=su;function fu(){return xt("localStorage")}Ee.getLocalStorage=fu;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});var uu=Xr.getWindowMetadata=void 0;const Mn=Ee;function cu(){let e,t;try{e=Mn.getDocumentOrThrow(),t=Mn.getLocationOrThrow()}catch{return null}function r(){const g=e.getElementsByTagName("link"),v=[];for(let y=0;y<g.length;y++){const m=g[y],M=m.getAttribute("rel");if(M&&M.toLowerCase().indexOf("icon")>-1){const L=m.getAttribute("href");if(L)if(L.toLowerCase().indexOf("https:")===-1&&L.toLowerCase().indexOf("http:")===-1&&L.indexOf("//")!==0){let K=t.protocol+"//"+t.host;if(L.indexOf("/")===0)K+=L;else{const E=t.pathname.split("/");E.pop();const C=E.join("/");K+=C+"/"+L}v.push(K)}else if(L.indexOf("//")===0){const K=t.protocol+L;v.push(K)}else v.push(L)}}return v}function a(...g){const v=e.getElementsByTagName("meta");for(let y=0;y<v.length;y++){const m=v[y],M=["itemprop","property","name"].map(L=>m.getAttribute(L)).filter(L=>L?g.includes(L):!1);if(M.length&&M){const L=m.getAttribute("content");if(L)return L}}return""}function o(){let g=a("name","og:site_name","og:title","twitter:title");return g||(g=e.title),g}function f(){return a("description","og:description","twitter:description","keywords")}const p=o(),u=f(),h=t.origin,s=r();return{description:u,url:h,icons:s,name:p}}uu=Xr.getWindowMetadata=cu;var lu={},hu=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),gi="%[a-f0-9]{2}",Rn=new RegExp("("+gi+")|([^%]+?)","gi"),Fn=new RegExp("("+gi+")+","gi");function zr(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),a=e.slice(t);return Array.prototype.concat.call([],zr(r),zr(a))}function du(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(Rn)||[],r=1;r<t.length;r++)e=zr(t,r).join(""),t=e.match(Rn)||[];return e}}function _u(e){for(var t={"%FE%FF":"","%FF%FE":""},r=Fn.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var a=du(r[0]);a!==r[0]&&(t[r[0]]=a)}r=Fn.exec(e)}t["%C2"]="";for(var o=Object.keys(t),f=0;f<o.length;f++){var p=o[f];e=e.replace(new RegExp(p,"g"),t[p])}return e}var bu=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return _u(e)}},gu=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]},yu=function(e,t){for(var r={},a=Object.keys(e),o=Array.isArray(t),f=0;f<a.length;f++){var p=a[f],u=e[p];(o?t.indexOf(p)!==-1:t(p,u,e))&&(r[p]=u)}return r};(function(e){const t=hu,r=bu,a=gu,o=yu,f=E=>E==null,p=Symbol("encodeFragmentIdentifier");function u(E){switch(E.arrayFormat){case"index":return C=>(b,D)=>{const w=b.length;return D===void 0||E.skipNull&&D===null||E.skipEmptyString&&D===""?b:D===null?[...b,[c(C,E),"[",w,"]"].join("")]:[...b,[c(C,E),"[",c(w,E),"]=",c(D,E)].join("")]};case"bracket":return C=>(b,D)=>D===void 0||E.skipNull&&D===null||E.skipEmptyString&&D===""?b:D===null?[...b,[c(C,E),"[]"].join("")]:[...b,[c(C,E),"[]=",c(D,E)].join("")];case"colon-list-separator":return C=>(b,D)=>D===void 0||E.skipNull&&D===null||E.skipEmptyString&&D===""?b:D===null?[...b,[c(C,E),":list="].join("")]:[...b,[c(C,E),":list=",c(D,E)].join("")];case"comma":case"separator":case"bracket-separator":{const C=E.arrayFormat==="bracket-separator"?"[]=":"=";return b=>(D,w)=>w===void 0||E.skipNull&&w===null||E.skipEmptyString&&w===""?D:(w=w===null?"":w,D.length===0?[[c(b,E),C,c(w,E)].join("")]:[[D,c(w,E)].join(E.arrayFormatSeparator)])}default:return C=>(b,D)=>D===void 0||E.skipNull&&D===null||E.skipEmptyString&&D===""?b:D===null?[...b,c(C,E)]:[...b,[c(C,E),"=",c(D,E)].join("")]}}function h(E){let C;switch(E.arrayFormat){case"index":return(b,D,w)=>{if(C=/\[(\d*)\]$/.exec(b),b=b.replace(/\[\d*\]$/,""),!C){w[b]=D;return}w[b]===void 0&&(w[b]={}),w[b][C[1]]=D};case"bracket":return(b,D,w)=>{if(C=/(\[\])$/.exec(b),b=b.replace(/\[\]$/,""),!C){w[b]=D;return}if(w[b]===void 0){w[b]=[D];return}w[b]=[].concat(w[b],D)};case"colon-list-separator":return(b,D,w)=>{if(C=/(:list)$/.exec(b),b=b.replace(/:list$/,""),!C){w[b]=D;return}if(w[b]===void 0){w[b]=[D];return}w[b]=[].concat(w[b],D)};case"comma":case"separator":return(b,D,w)=>{const n=typeof D=="string"&&D.includes(E.arrayFormatSeparator),d=typeof D=="string"&&!n&&g(D,E).includes(E.arrayFormatSeparator);D=d?g(D,E):D;const P=n||d?D.split(E.arrayFormatSeparator).map(j=>g(j,E)):D===null?D:g(D,E);w[b]=P};case"bracket-separator":return(b,D,w)=>{const n=/(\[\])$/.test(b);if(b=b.replace(/\[\]$/,""),!n){w[b]=D&&g(D,E);return}const d=D===null?[]:D.split(E.arrayFormatSeparator).map(P=>g(P,E));if(w[b]===void 0){w[b]=d;return}w[b]=[].concat(w[b],d)};default:return(b,D,w)=>{if(w[b]===void 0){w[b]=D;return}w[b]=[].concat(w[b],D)}}}function s(E){if(typeof E!="string"||E.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function c(E,C){return C.encode?C.strict?t(E):encodeURIComponent(E):E}function g(E,C){return C.decode?r(E):E}function v(E){return Array.isArray(E)?E.sort():typeof E=="object"?v(Object.keys(E)).sort((C,b)=>Number(C)-Number(b)).map(C=>E[C]):E}function y(E){const C=E.indexOf("#");return C!==-1&&(E=E.slice(0,C)),E}function m(E){let C="";const b=E.indexOf("#");return b!==-1&&(C=E.slice(b)),C}function M(E){E=y(E);const C=E.indexOf("?");return C===-1?"":E.slice(C+1)}function L(E,C){return C.parseNumbers&&!Number.isNaN(Number(E))&&typeof E=="string"&&E.trim()!==""?E=Number(E):C.parseBooleans&&E!==null&&(E.toLowerCase()==="true"||E.toLowerCase()==="false")&&(E=E.toLowerCase()==="true"),E}function K(E,C){C=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},C),s(C.arrayFormatSeparator);const b=h(C),D=Object.create(null);if(typeof E!="string"||(E=E.trim().replace(/^[?#&]/,""),!E))return D;for(const w of E.split("&")){if(w==="")continue;let[n,d]=a(C.decode?w.replace(/\+/g," "):w,"=");d=d===void 0?null:["comma","separator","bracket-separator"].includes(C.arrayFormat)?d:g(d,C),b(g(n,C),d,D)}for(const w of Object.keys(D)){const n=D[w];if(typeof n=="object"&&n!==null)for(const d of Object.keys(n))n[d]=L(n[d],C);else D[w]=L(n,C)}return C.sort===!1?D:(C.sort===!0?Object.keys(D).sort():Object.keys(D).sort(C.sort)).reduce((w,n)=>{const d=D[n];return d&&typeof d=="object"&&!Array.isArray(d)?w[n]=v(d):w[n]=d,w},Object.create(null))}e.extract=M,e.parse=K,e.stringify=(E,C)=>{if(!E)return"";C=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},C),s(C.arrayFormatSeparator);const b=d=>C.skipNull&&f(E[d])||C.skipEmptyString&&E[d]==="",D=u(C),w={};for(const d of Object.keys(E))b(d)||(w[d]=E[d]);const n=Object.keys(w);return C.sort!==!1&&n.sort(C.sort),n.map(d=>{const P=E[d];return P===void 0?"":P===null?c(d,C):Array.isArray(P)?P.length===0&&C.arrayFormat==="bracket-separator"?c(d,C)+"[]":P.reduce(D(d),[]).join("&"):c(d,C)+"="+c(P,C)}).filter(d=>d.length>0).join("&")},e.parseUrl=(E,C)=>{C=Object.assign({decode:!0},C);const[b,D]=a(E,"#");return Object.assign({url:b.split("?")[0]||"",query:K(M(E),C)},C&&C.parseFragmentIdentifier&&D?{fragmentIdentifier:g(D,C)}:{})},e.stringifyUrl=(E,C)=>{C=Object.assign({encode:!0,strict:!0,[p]:!0},C);const b=y(E.url).split("?")[0]||"",D=e.extract(E.url),w=e.parse(D,{sort:!1}),n=Object.assign(w,E.query);let d=e.stringify(n,C);d&&(d=`?${d}`);let P=m(E.url);return E.fragmentIdentifier&&(P=`#${C[p]?c(E.fragmentIdentifier,C):E.fragmentIdentifier}`),`${b}${d}${P}`},e.pick=(E,C,b)=>{b=Object.assign({parseFragmentIdentifier:!0,[p]:!1},b);const{url:D,query:w,fragmentIdentifier:n}=e.parseUrl(E,b);return e.stringifyUrl({url:D,query:o(w,C),fragmentIdentifier:n},b)},e.exclude=(E,C,b)=>{const D=Array.isArray(C)?w=>!C.includes(w):(w,n)=>!C(w,n);return e.pick(E,D,b)}})(lu);var wu={},Er={};Object.defineProperty(Er,"__esModule",{value:!0});var Xe=ee,$r=Qe,vu=20;function Du(e,t,r){for(var a=1634760805,o=857760878,f=2036477234,p=1797285236,u=r[3]<<24|r[2]<<16|r[1]<<8|r[0],h=r[7]<<24|r[6]<<16|r[5]<<8|r[4],s=r[11]<<24|r[10]<<16|r[9]<<8|r[8],c=r[15]<<24|r[14]<<16|r[13]<<8|r[12],g=r[19]<<24|r[18]<<16|r[17]<<8|r[16],v=r[23]<<24|r[22]<<16|r[21]<<8|r[20],y=r[27]<<24|r[26]<<16|r[25]<<8|r[24],m=r[31]<<24|r[30]<<16|r[29]<<8|r[28],M=t[3]<<24|t[2]<<16|t[1]<<8|t[0],L=t[7]<<24|t[6]<<16|t[5]<<8|t[4],K=t[11]<<24|t[10]<<16|t[9]<<8|t[8],E=t[15]<<24|t[14]<<16|t[13]<<8|t[12],C=a,b=o,D=f,w=p,n=u,d=h,P=s,j=c,q=g,X=v,J=y,I=m,T=M,Y=L,B=K,N=E,R=0;R<vu;R+=2)C=C+n|0,T^=C,T=T>>>16|T<<16,q=q+T|0,n^=q,n=n>>>20|n<<12,b=b+d|0,Y^=b,Y=Y>>>16|Y<<16,X=X+Y|0,d^=X,d=d>>>20|d<<12,D=D+P|0,B^=D,B=B>>>16|B<<16,J=J+B|0,P^=J,P=P>>>20|P<<12,w=w+j|0,N^=w,N=N>>>16|N<<16,I=I+N|0,j^=I,j=j>>>20|j<<12,D=D+P|0,B^=D,B=B>>>24|B<<8,J=J+B|0,P^=J,P=P>>>25|P<<7,w=w+j|0,N^=w,N=N>>>24|N<<8,I=I+N|0,j^=I,j=j>>>25|j<<7,b=b+d|0,Y^=b,Y=Y>>>24|Y<<8,X=X+Y|0,d^=X,d=d>>>25|d<<7,C=C+n|0,T^=C,T=T>>>24|T<<8,q=q+T|0,n^=q,n=n>>>25|n<<7,C=C+d|0,N^=C,N=N>>>16|N<<16,J=J+N|0,d^=J,d=d>>>20|d<<12,b=b+P|0,T^=b,T=T>>>16|T<<16,I=I+T|0,P^=I,P=P>>>20|P<<12,D=D+j|0,Y^=D,Y=Y>>>16|Y<<16,q=q+Y|0,j^=q,j=j>>>20|j<<12,w=w+n|0,B^=w,B=B>>>16|B<<16,X=X+B|0,n^=X,n=n>>>20|n<<12,D=D+j|0,Y^=D,Y=Y>>>24|Y<<8,q=q+Y|0,j^=q,j=j>>>25|j<<7,w=w+n|0,B^=w,B=B>>>24|B<<8,X=X+B|0,n^=X,n=n>>>25|n<<7,b=b+P|0,T^=b,T=T>>>24|T<<8,I=I+T|0,P^=I,P=P>>>25|P<<7,C=C+d|0,N^=C,N=N>>>24|N<<8,J=J+N|0,d^=J,d=d>>>25|d<<7;Xe.writeUint32LE(C+a|0,e,0),Xe.writeUint32LE(b+o|0,e,4),Xe.writeUint32LE(D+f|0,e,8),Xe.writeUint32LE(w+p|0,e,12),Xe.writeUint32LE(n+u|0,e,16),Xe.writeUint32LE(d+h|0,e,20),Xe.writeUint32LE(P+s|0,e,24),Xe.writeUint32LE(j+c|0,e,28),Xe.writeUint32LE(q+g|0,e,32),Xe.writeUint32LE(X+v|0,e,36),Xe.writeUint32LE(J+y|0,e,40),Xe.writeUint32LE(I+m|0,e,44),Xe.writeUint32LE(T+M|0,e,48),Xe.writeUint32LE(Y+L|0,e,52),Xe.writeUint32LE(B+K|0,e,56),Xe.writeUint32LE(N+E|0,e,60)}function yi(e,t,r,a,o){if(o===void 0&&(o=0),e.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(a.length<r.length)throw new Error("ChaCha: destination is shorter than source");var f,p;if(o===0){if(t.length!==8&&t.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");f=new Uint8Array(16),p=f.length-t.length,f.set(t,p)}else{if(t.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");f=t,p=o}for(var u=new Uint8Array(64),h=0;h<r.length;h+=64){Du(u,f,e);for(var s=h;s<h+64&&s<r.length;s++)a[s]=r[s]^u[s-h];Eu(f,0,p)}return $r.wipe(u),o===0&&$r.wipe(f),a}Er.streamXOR=yi;function pu(e,t,r,a){return a===void 0&&(a=0),$r.wipe(r),yi(e,t,r,r,a)}Er.stream=pu;function Eu(e,t,r){for(var a=1;r--;)a=a+(e[t]&255)|0,e[t]=a&255,a>>>=8,t++;if(a>0)throw new Error("ChaCha: counter overflow")}var wi={},gt={};Object.defineProperty(gt,"__esModule",{value:!0});function mu(e,t,r){return~(e-1)&t|e-1&r}gt.select=mu;function xu(e,t){return(e|0)-(t|0)-1>>>31&1}gt.lessOrEqual=xu;function vi(e,t){if(e.length!==t.length)return 0;for(var r=0,a=0;a<e.length;a++)r|=e[a]^t[a];return 1&r-1>>>8}gt.compare=vi;function Su(e,t){return e.length===0||t.length===0?!1:vi(e,t)!==0}gt.equal=Su;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=gt,r=Qe;e.DIGEST_LENGTH=16;var a=function(){function p(u){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var h=u[0]|u[1]<<8;this._r[0]=h&8191;var s=u[2]|u[3]<<8;this._r[1]=(h>>>13|s<<3)&8191;var c=u[4]|u[5]<<8;this._r[2]=(s>>>10|c<<6)&7939;var g=u[6]|u[7]<<8;this._r[3]=(c>>>7|g<<9)&8191;var v=u[8]|u[9]<<8;this._r[4]=(g>>>4|v<<12)&255,this._r[5]=v>>>1&8190;var y=u[10]|u[11]<<8;this._r[6]=(v>>>14|y<<2)&8191;var m=u[12]|u[13]<<8;this._r[7]=(y>>>11|m<<5)&8065;var M=u[14]|u[15]<<8;this._r[8]=(m>>>8|M<<8)&8191,this._r[9]=M>>>5&127,this._pad[0]=u[16]|u[17]<<8,this._pad[1]=u[18]|u[19]<<8,this._pad[2]=u[20]|u[21]<<8,this._pad[3]=u[22]|u[23]<<8,this._pad[4]=u[24]|u[25]<<8,this._pad[5]=u[26]|u[27]<<8,this._pad[6]=u[28]|u[29]<<8,this._pad[7]=u[30]|u[31]<<8}return p.prototype._blocks=function(u,h,s){for(var c=this._fin?0:2048,g=this._h[0],v=this._h[1],y=this._h[2],m=this._h[3],M=this._h[4],L=this._h[5],K=this._h[6],E=this._h[7],C=this._h[8],b=this._h[9],D=this._r[0],w=this._r[1],n=this._r[2],d=this._r[3],P=this._r[4],j=this._r[5],q=this._r[6],X=this._r[7],J=this._r[8],I=this._r[9];s>=16;){var T=u[h+0]|u[h+1]<<8;g+=T&8191;var Y=u[h+2]|u[h+3]<<8;v+=(T>>>13|Y<<3)&8191;var B=u[h+4]|u[h+5]<<8;y+=(Y>>>10|B<<6)&8191;var N=u[h+6]|u[h+7]<<8;m+=(B>>>7|N<<9)&8191;var R=u[h+8]|u[h+9]<<8;M+=(N>>>4|R<<12)&8191,L+=R>>>1&8191;var F=u[h+10]|u[h+11]<<8;K+=(R>>>14|F<<2)&8191;var H=u[h+12]|u[h+13]<<8;E+=(F>>>11|H<<5)&8191;var te=u[h+14]|u[h+15]<<8;C+=(H>>>8|te<<8)&8191,b+=te>>>5|c;var z=0,k=z;k+=g*D,k+=v*(5*I),k+=y*(5*J),k+=m*(5*X),k+=M*(5*q),z=k>>>13,k&=8191,k+=L*(5*j),k+=K*(5*P),k+=E*(5*d),k+=C*(5*n),k+=b*(5*w),z+=k>>>13,k&=8191;var V=z;V+=g*w,V+=v*D,V+=y*(5*I),V+=m*(5*J),V+=M*(5*X),z=V>>>13,V&=8191,V+=L*(5*q),V+=K*(5*j),V+=E*(5*P),V+=C*(5*d),V+=b*(5*n),z+=V>>>13,V&=8191;var ae=z;ae+=g*n,ae+=v*w,ae+=y*D,ae+=m*(5*I),ae+=M*(5*J),z=ae>>>13,ae&=8191,ae+=L*(5*X),ae+=K*(5*q),ae+=E*(5*j),ae+=C*(5*P),ae+=b*(5*d),z+=ae>>>13,ae&=8191;var A=z;A+=g*d,A+=v*n,A+=y*w,A+=m*D,A+=M*(5*I),z=A>>>13,A&=8191,A+=L*(5*J),A+=K*(5*X),A+=E*(5*q),A+=C*(5*j),A+=b*(5*P),z+=A>>>13,A&=8191;var O=z;O+=g*P,O+=v*d,O+=y*n,O+=m*w,O+=M*D,z=O>>>13,O&=8191,O+=L*(5*I),O+=K*(5*J),O+=E*(5*X),O+=C*(5*q),O+=b*(5*j),z+=O>>>13,O&=8191;var x=z;x+=g*j,x+=v*P,x+=y*d,x+=m*n,x+=M*w,z=x>>>13,x&=8191,x+=L*D,x+=K*(5*I),x+=E*(5*J),x+=C*(5*X),x+=b*(5*q),z+=x>>>13,x&=8191;var i=z;i+=g*q,i+=v*j,i+=y*P,i+=m*d,i+=M*n,z=i>>>13,i&=8191,i+=L*w,i+=K*D,i+=E*(5*I),i+=C*(5*J),i+=b*(5*X),z+=i>>>13,i&=8191;var _=z;_+=g*X,_+=v*q,_+=y*j,_+=m*P,_+=M*d,z=_>>>13,_&=8191,_+=L*n,_+=K*w,_+=E*D,_+=C*(5*I),_+=b*(5*J),z+=_>>>13,_&=8191;var $=z;$+=g*J,$+=v*X,$+=y*q,$+=m*j,$+=M*P,z=$>>>13,$&=8191,$+=L*d,$+=K*n,$+=E*w,$+=C*D,$+=b*(5*I),z+=$>>>13,$&=8191;var W=z;W+=g*I,W+=v*J,W+=y*X,W+=m*q,W+=M*j,z=W>>>13,W&=8191,W+=L*P,W+=K*d,W+=E*n,W+=C*w,W+=b*D,z+=W>>>13,W&=8191,z=(z<<2)+z|0,z=z+k|0,k=z&8191,z=z>>>13,V+=z,g=k,v=V,y=ae,m=A,M=O,L=x,K=i,E=_,C=$,b=W,h+=16,s-=16}this._h[0]=g,this._h[1]=v,this._h[2]=y,this._h[3]=m,this._h[4]=M,this._h[5]=L,this._h[6]=K,this._h[7]=E,this._h[8]=C,this._h[9]=b},p.prototype.finish=function(u,h){h===void 0&&(h=0);var s=new Uint16Array(10),c,g,v,y;if(this._leftover){for(y=this._leftover,this._buffer[y++]=1;y<16;y++)this._buffer[y]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(c=this._h[1]>>>13,this._h[1]&=8191,y=2;y<10;y++)this._h[y]+=c,c=this._h[y]>>>13,this._h[y]&=8191;for(this._h[0]+=c*5,c=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=c,c=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=c,s[0]=this._h[0]+5,c=s[0]>>>13,s[0]&=8191,y=1;y<10;y++)s[y]=this._h[y]+c,c=s[y]>>>13,s[y]&=8191;for(s[9]-=8192,g=(c^1)-1,y=0;y<10;y++)s[y]&=g;for(g=~g,y=0;y<10;y++)this._h[y]=this._h[y]&g|s[y];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,v=this._h[0]+this._pad[0],this._h[0]=v&65535,y=1;y<8;y++)v=(this._h[y]+this._pad[y]|0)+(v>>>16)|0,this._h[y]=v&65535;return u[h+0]=this._h[0]>>>0,u[h+1]=this._h[0]>>>8,u[h+2]=this._h[1]>>>0,u[h+3]=this._h[1]>>>8,u[h+4]=this._h[2]>>>0,u[h+5]=this._h[2]>>>8,u[h+6]=this._h[3]>>>0,u[h+7]=this._h[3]>>>8,u[h+8]=this._h[4]>>>0,u[h+9]=this._h[4]>>>8,u[h+10]=this._h[5]>>>0,u[h+11]=this._h[5]>>>8,u[h+12]=this._h[6]>>>0,u[h+13]=this._h[6]>>>8,u[h+14]=this._h[7]>>>0,u[h+15]=this._h[7]>>>8,this._finished=!0,this},p.prototype.update=function(u){var h=0,s=u.length,c;if(this._leftover){c=16-this._leftover,c>s&&(c=s);for(var g=0;g<c;g++)this._buffer[this._leftover+g]=u[h+g];if(s-=c,h+=c,this._leftover+=c,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(s>=16&&(c=s-s%16,this._blocks(u,h,c),h+=c,s-=c),s){for(var g=0;g<s;g++)this._buffer[this._leftover+g]=u[h+g];this._leftover+=s}return this},p.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var u=new Uint8Array(16);return this.finish(u),u},p.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},p}();e.Poly1305=a;function o(p,u){var h=new a(p);h.update(u);var s=h.digest();return h.clean(),s}e.oneTimeAuth=o;function f(p,u){return p.length!==e.DIGEST_LENGTH||u.length!==e.DIGEST_LENGTH?!1:t.equal(p,u)}e.equal=f})(wi);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Er,r=wi,a=Qe,o=ee,f=gt;e.KEY_LENGTH=32,e.NONCE_LENGTH=12,e.TAG_LENGTH=16;var p=new Uint8Array(16),u=function(){function h(s){if(this.nonceLength=e.NONCE_LENGTH,this.tagLength=e.TAG_LENGTH,s.length!==e.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(s)}return h.prototype.seal=function(s,c,g,v){if(s.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var y=new Uint8Array(16);y.set(s,y.length-s.length);var m=new Uint8Array(32);t.stream(this._key,y,m,4);var M=c.length+this.tagLength,L;if(v){if(v.length!==M)throw new Error("ChaCha20Poly1305: incorrect destination length");L=v}else L=new Uint8Array(M);return t.streamXOR(this._key,y,c,L,4),this._authenticate(L.subarray(L.length-this.tagLength,L.length),m,L.subarray(0,L.length-this.tagLength),g),a.wipe(y),L},h.prototype.open=function(s,c,g,v){if(s.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(c.length<this.tagLength)return null;var y=new Uint8Array(16);y.set(s,y.length-s.length);var m=new Uint8Array(32);t.stream(this._key,y,m,4);var M=new Uint8Array(this.tagLength);if(this._authenticate(M,m,c.subarray(0,c.length-this.tagLength),g),!f.equal(M,c.subarray(c.length-this.tagLength,c.length)))return null;var L=c.length-this.tagLength,K;if(v){if(v.length!==L)throw new Error("ChaCha20Poly1305: incorrect destination length");K=v}else K=new Uint8Array(L);return t.streamXOR(this._key,y,c.subarray(0,c.length-this.tagLength),K,4),a.wipe(y),K},h.prototype.clean=function(){return a.wipe(this._key),this},h.prototype._authenticate=function(s,c,g,v){var y=new r.Poly1305(c);v&&(y.update(v),v.length%16>0&&y.update(p.subarray(v.length%16))),y.update(g),g.length%16>0&&y.update(p.subarray(g.length%16));var m=new Uint8Array(8);v&&o.writeUint64LE(v.length,m),y.update(m),o.writeUint64LE(g.length,m),y.update(m);for(var M=y.digest(),L=0;L<M.length;L++)s[L]=M[L];y.clean(),a.wipe(M),a.wipe(m)},h}();e.ChaCha20Poly1305=u})(wu);var Di={},Yt={},Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});function Ou(e){return typeof e.saveState<"u"&&typeof e.restoreState<"u"&&typeof e.cleanSavedState<"u"}Jr.isSerializableHash=Ou;Object.defineProperty(Yt,"__esModule",{value:!0});var at=Jr,Au=gt,Cu=Qe,pi=function(){function e(t,r){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var a=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(a).clean():a.set(r);for(var o=0;o<a.length;o++)a[o]^=54;this._inner.update(a);for(var o=0;o<a.length;o++)a[o]^=106;this._outer.update(a),at.isSerializableHash(this._inner)&&at.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),Cu.wipe(a)}return e.prototype.reset=function(){if(!at.isSerializableHash(this._inner)||!at.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){at.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),at.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(t){return this._inner.update(t),this},e.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype.saveState=function(){if(!at.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(t){if(!at.isSerializableHash(this._inner)||!at.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(t){if(!at.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},e}();Yt.HMAC=pi;function Tu(e,t,r){var a=new pi(e,t);a.update(r);var o=a.digest();return a.clean(),o}Yt.hmac=Tu;Yt.equal=Au.equal;Object.defineProperty(Di,"__esModule",{value:!0});var Pn=Yt,Bn=Qe,Iu=function(){function e(t,r,a,o){a===void 0&&(a=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=o;var f=Pn.hmac(this._hash,a,r);this._hmac=new Pn.HMAC(t,f),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(t===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(t){for(var r=new Uint8Array(t),a=0;a<r.length;a++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[a]=this._buffer[this._bufpos++];return r},e.prototype.clean=function(){this._hmac.clean(),Bn.wipe(this._buffer),Bn.wipe(this._counter),this._bufpos=0},e}(),Pc=Di.HKDF=Iu,Lu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=ee,r=Qe;e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var a=function(){function u(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return u.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},u.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},u.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},u.prototype.update=function(h,s){if(s===void 0&&(s=h.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var c=0;if(this._bytesHashed+=s,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&s>0;)this._buffer[this._bufferLength++]=h[c++],s--;this._bufferLength===this.blockSize&&(f(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(s>=this.blockSize&&(c=f(this._temp,this._state,h,c,s),s%=this.blockSize);s>0;)this._buffer[this._bufferLength++]=h[c++],s--;return this},u.prototype.finish=function(h){if(!this._finished){var s=this._bytesHashed,c=this._bufferLength,g=s/536870912|0,v=s<<3,y=s%64<56?64:128;this._buffer[c]=128;for(var m=c+1;m<y-8;m++)this._buffer[m]=0;t.writeUint32BE(g,this._buffer,y-8),t.writeUint32BE(v,this._buffer,y-4),f(this._temp,this._state,this._buffer,0,y),this._finished=!0}for(var m=0;m<this.digestLength/4;m++)t.writeUint32BE(this._state[m],h,m*4);return this},u.prototype.digest=function(){var h=new Uint8Array(this.digestLength);return this.finish(h),h},u.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},u.prototype.restoreState=function(h){return this._state.set(h.state),this._bufferLength=h.bufferLength,h.buffer&&this._buffer.set(h.buffer),this._bytesHashed=h.bytesHashed,this._finished=!1,this},u.prototype.cleanSavedState=function(h){r.wipe(h.state),h.buffer&&r.wipe(h.buffer),h.bufferLength=0,h.bytesHashed=0},u}();e.SHA256=a;var o=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function f(u,h,s,c,g){for(;g>=64;){for(var v=h[0],y=h[1],m=h[2],M=h[3],L=h[4],K=h[5],E=h[6],C=h[7],b=0;b<16;b++){var D=c+b*4;u[b]=t.readUint32BE(s,D)}for(var b=16;b<64;b++){var w=u[b-2],n=(w>>>17|w<<15)^(w>>>19|w<<13)^w>>>10;w=u[b-15];var d=(w>>>7|w<<25)^(w>>>18|w<<14)^w>>>3;u[b]=(n+u[b-7]|0)+(d+u[b-16]|0)}for(var b=0;b<64;b++){var n=(((L>>>6|L<<26)^(L>>>11|L<<21)^(L>>>25|L<<7))+(L&K^~L&E)|0)+(C+(o[b]+u[b]|0)|0)|0,d=((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+(v&y^v&m^y&m)|0;C=E,E=K,K=L,L=M+n|0,M=m,m=y,y=v,v=n+d|0}h[0]+=v,h[1]+=y,h[2]+=m,h[3]+=M,h[4]+=L,h[5]+=K,h[6]+=E,h[7]+=C,c+=64,g-=64}return c}function p(u){var h=new a;h.update(u);var s=h.digest();return h.clean(),s}e.hash=p})(Lu);var Uu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sharedKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.scalarMultBase=e.scalarMult=e.SHARED_KEY_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=void 0;const t=br,r=Qe;e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=32,e.SHARED_KEY_LENGTH=32;function a(b){const D=new Float64Array(16);if(b)for(let w=0;w<b.length;w++)D[w]=b[w];return D}const o=new Uint8Array(32);o[0]=9;const f=a([56129,1]);function p(b){let D=1;for(let w=0;w<16;w++){let n=b[w]+D+65535;D=Math.floor(n/65536),b[w]=n-D*65536}b[0]+=D-1+37*(D-1)}function u(b,D,w){const n=~(w-1);for(let d=0;d<16;d++){const P=n&(b[d]^D[d]);b[d]^=P,D[d]^=P}}function h(b,D){const w=a(),n=a();for(let d=0;d<16;d++)n[d]=D[d];p(n),p(n),p(n);for(let d=0;d<2;d++){w[0]=n[0]-65517;for(let j=1;j<15;j++)w[j]=n[j]-65535-(w[j-1]>>16&1),w[j-1]&=65535;w[15]=n[15]-32767-(w[14]>>16&1);const P=w[15]>>16&1;w[14]&=65535,u(n,w,1-P)}for(let d=0;d<16;d++)b[2*d]=n[d]&255,b[2*d+1]=n[d]>>8}function s(b,D){for(let w=0;w<16;w++)b[w]=D[2*w]+(D[2*w+1]<<8);b[15]&=32767}function c(b,D,w){for(let n=0;n<16;n++)b[n]=D[n]+w[n]}function g(b,D,w){for(let n=0;n<16;n++)b[n]=D[n]-w[n]}function v(b,D,w){let n,d,P=0,j=0,q=0,X=0,J=0,I=0,T=0,Y=0,B=0,N=0,R=0,F=0,H=0,te=0,z=0,k=0,V=0,ae=0,A=0,O=0,x=0,i=0,_=0,$=0,W=0,ue=0,be=0,le=0,we=0,Ie=0,Oe=0,_e=w[0],he=w[1],ce=w[2],se=w[3],oe=w[4],ie=w[5],ne=w[6],Z=w[7],fe=w[8],de=w[9],Q=w[10],ge=w[11],ye=w[12],De=w[13],pe=w[14],ve=w[15];n=D[0],P+=n*_e,j+=n*he,q+=n*ce,X+=n*se,J+=n*oe,I+=n*ie,T+=n*ne,Y+=n*Z,B+=n*fe,N+=n*de,R+=n*Q,F+=n*ge,H+=n*ye,te+=n*De,z+=n*pe,k+=n*ve,n=D[1],j+=n*_e,q+=n*he,X+=n*ce,J+=n*se,I+=n*oe,T+=n*ie,Y+=n*ne,B+=n*Z,N+=n*fe,R+=n*de,F+=n*Q,H+=n*ge,te+=n*ye,z+=n*De,k+=n*pe,V+=n*ve,n=D[2],q+=n*_e,X+=n*he,J+=n*ce,I+=n*se,T+=n*oe,Y+=n*ie,B+=n*ne,N+=n*Z,R+=n*fe,F+=n*de,H+=n*Q,te+=n*ge,z+=n*ye,k+=n*De,V+=n*pe,ae+=n*ve,n=D[3],X+=n*_e,J+=n*he,I+=n*ce,T+=n*se,Y+=n*oe,B+=n*ie,N+=n*ne,R+=n*Z,F+=n*fe,H+=n*de,te+=n*Q,z+=n*ge,k+=n*ye,V+=n*De,ae+=n*pe,A+=n*ve,n=D[4],J+=n*_e,I+=n*he,T+=n*ce,Y+=n*se,B+=n*oe,N+=n*ie,R+=n*ne,F+=n*Z,H+=n*fe,te+=n*de,z+=n*Q,k+=n*ge,V+=n*ye,ae+=n*De,A+=n*pe,O+=n*ve,n=D[5],I+=n*_e,T+=n*he,Y+=n*ce,B+=n*se,N+=n*oe,R+=n*ie,F+=n*ne,H+=n*Z,te+=n*fe,z+=n*de,k+=n*Q,V+=n*ge,ae+=n*ye,A+=n*De,O+=n*pe,x+=n*ve,n=D[6],T+=n*_e,Y+=n*he,B+=n*ce,N+=n*se,R+=n*oe,F+=n*ie,H+=n*ne,te+=n*Z,z+=n*fe,k+=n*de,V+=n*Q,ae+=n*ge,A+=n*ye,O+=n*De,x+=n*pe,i+=n*ve,n=D[7],Y+=n*_e,B+=n*he,N+=n*ce,R+=n*se,F+=n*oe,H+=n*ie,te+=n*ne,z+=n*Z,k+=n*fe,V+=n*de,ae+=n*Q,A+=n*ge,O+=n*ye,x+=n*De,i+=n*pe,_+=n*ve,n=D[8],B+=n*_e,N+=n*he,R+=n*ce,F+=n*se,H+=n*oe,te+=n*ie,z+=n*ne,k+=n*Z,V+=n*fe,ae+=n*de,A+=n*Q,O+=n*ge,x+=n*ye,i+=n*De,_+=n*pe,$+=n*ve,n=D[9],N+=n*_e,R+=n*he,F+=n*ce,H+=n*se,te+=n*oe,z+=n*ie,k+=n*ne,V+=n*Z,ae+=n*fe,A+=n*de,O+=n*Q,x+=n*ge,i+=n*ye,_+=n*De,$+=n*pe,W+=n*ve,n=D[10],R+=n*_e,F+=n*he,H+=n*ce,te+=n*se,z+=n*oe,k+=n*ie,V+=n*ne,ae+=n*Z,A+=n*fe,O+=n*de,x+=n*Q,i+=n*ge,_+=n*ye,$+=n*De,W+=n*pe,ue+=n*ve,n=D[11],F+=n*_e,H+=n*he,te+=n*ce,z+=n*se,k+=n*oe,V+=n*ie,ae+=n*ne,A+=n*Z,O+=n*fe,x+=n*de,i+=n*Q,_+=n*ge,$+=n*ye,W+=n*De,ue+=n*pe,be+=n*ve,n=D[12],H+=n*_e,te+=n*he,z+=n*ce,k+=n*se,V+=n*oe,ae+=n*ie,A+=n*ne,O+=n*Z,x+=n*fe,i+=n*de,_+=n*Q,$+=n*ge,W+=n*ye,ue+=n*De,be+=n*pe,le+=n*ve,n=D[13],te+=n*_e,z+=n*he,k+=n*ce,V+=n*se,ae+=n*oe,A+=n*ie,O+=n*ne,x+=n*Z,i+=n*fe,_+=n*de,$+=n*Q,W+=n*ge,ue+=n*ye,be+=n*De,le+=n*pe,we+=n*ve,n=D[14],z+=n*_e,k+=n*he,V+=n*ce,ae+=n*se,A+=n*oe,O+=n*ie,x+=n*ne,i+=n*Z,_+=n*fe,$+=n*de,W+=n*Q,ue+=n*ge,be+=n*ye,le+=n*De,we+=n*pe,Ie+=n*ve,n=D[15],k+=n*_e,V+=n*he,ae+=n*ce,A+=n*se,O+=n*oe,x+=n*ie,i+=n*ne,_+=n*Z,$+=n*fe,W+=n*de,ue+=n*Q,be+=n*ge,le+=n*ye,we+=n*De,Ie+=n*pe,Oe+=n*ve,P+=38*V,j+=38*ae,q+=38*A,X+=38*O,J+=38*x,I+=38*i,T+=38*_,Y+=38*$,B+=38*W,N+=38*ue,R+=38*be,F+=38*le,H+=38*we,te+=38*Ie,z+=38*Oe,d=1,n=P+d+65535,d=Math.floor(n/65536),P=n-d*65536,n=j+d+65535,d=Math.floor(n/65536),j=n-d*65536,n=q+d+65535,d=Math.floor(n/65536),q=n-d*65536,n=X+d+65535,d=Math.floor(n/65536),X=n-d*65536,n=J+d+65535,d=Math.floor(n/65536),J=n-d*65536,n=I+d+65535,d=Math.floor(n/65536),I=n-d*65536,n=T+d+65535,d=Math.floor(n/65536),T=n-d*65536,n=Y+d+65535,d=Math.floor(n/65536),Y=n-d*65536,n=B+d+65535,d=Math.floor(n/65536),B=n-d*65536,n=N+d+65535,d=Math.floor(n/65536),N=n-d*65536,n=R+d+65535,d=Math.floor(n/65536),R=n-d*65536,n=F+d+65535,d=Math.floor(n/65536),F=n-d*65536,n=H+d+65535,d=Math.floor(n/65536),H=n-d*65536,n=te+d+65535,d=Math.floor(n/65536),te=n-d*65536,n=z+d+65535,d=Math.floor(n/65536),z=n-d*65536,n=k+d+65535,d=Math.floor(n/65536),k=n-d*65536,P+=d-1+37*(d-1),d=1,n=P+d+65535,d=Math.floor(n/65536),P=n-d*65536,n=j+d+65535,d=Math.floor(n/65536),j=n-d*65536,n=q+d+65535,d=Math.floor(n/65536),q=n-d*65536,n=X+d+65535,d=Math.floor(n/65536),X=n-d*65536,n=J+d+65535,d=Math.floor(n/65536),J=n-d*65536,n=I+d+65535,d=Math.floor(n/65536),I=n-d*65536,n=T+d+65535,d=Math.floor(n/65536),T=n-d*65536,n=Y+d+65535,d=Math.floor(n/65536),Y=n-d*65536,n=B+d+65535,d=Math.floor(n/65536),B=n-d*65536,n=N+d+65535,d=Math.floor(n/65536),N=n-d*65536,n=R+d+65535,d=Math.floor(n/65536),R=n-d*65536,n=F+d+65535,d=Math.floor(n/65536),F=n-d*65536,n=H+d+65535,d=Math.floor(n/65536),H=n-d*65536,n=te+d+65535,d=Math.floor(n/65536),te=n-d*65536,n=z+d+65535,d=Math.floor(n/65536),z=n-d*65536,n=k+d+65535,d=Math.floor(n/65536),k=n-d*65536,P+=d-1+37*(d-1),b[0]=P,b[1]=j,b[2]=q,b[3]=X,b[4]=J,b[5]=I,b[6]=T,b[7]=Y,b[8]=B,b[9]=N,b[10]=R,b[11]=F,b[12]=H,b[13]=te,b[14]=z,b[15]=k}function y(b,D){v(b,D,D)}function m(b,D){const w=a();for(let n=0;n<16;n++)w[n]=D[n];for(let n=253;n>=0;n--)y(w,w),n!==2&&n!==4&&v(w,w,D);for(let n=0;n<16;n++)b[n]=w[n]}function M(b,D){const w=new Uint8Array(32),n=new Float64Array(80),d=a(),P=a(),j=a(),q=a(),X=a(),J=a();for(let B=0;B<31;B++)w[B]=b[B];w[31]=b[31]&127|64,w[0]&=248,s(n,D);for(let B=0;B<16;B++)P[B]=n[B];d[0]=q[0]=1;for(let B=254;B>=0;--B){const N=w[B>>>3]>>>(B&7)&1;u(d,P,N),u(j,q,N),c(X,d,j),g(d,d,j),c(j,P,q),g(P,P,q),y(q,X),y(J,d),v(d,j,d),v(j,P,X),c(X,d,j),g(d,d,j),y(P,d),g(j,q,J),v(d,j,f),c(d,d,q),v(j,j,d),v(d,q,J),v(q,P,n),y(P,X),u(d,P,N),u(j,q,N)}for(let B=0;B<16;B++)n[B+16]=d[B],n[B+32]=j[B],n[B+48]=P[B],n[B+64]=q[B];const I=n.subarray(32),T=n.subarray(16);m(I,I),v(T,T,I);const Y=new Uint8Array(32);return h(Y,T),Y}e.scalarMult=M;function L(b){return M(b,o)}e.scalarMultBase=L;function K(b){if(b.length!==e.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${e.SECRET_KEY_LENGTH} bytes`);const D=new Uint8Array(b);return{publicKey:L(D),secretKey:D}}e.generateKeyPairFromSeed=K;function E(b){const D=(0,t.randomBytes)(32,b),w=K(D);return(0,r.wipe)(D),w}e.generateKeyPair=E;function C(b,D,w=!1){if(b.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(D.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const n=M(b,D);if(w){let d=0;for(let P=0;P<n.length;P++)d|=n[P];if(d===0)throw new Error("X25519: invalid shared key")}return n}e.sharedKey=C})(Uu);const Bc={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},Nu="PARSE_ERROR",Mu="INVALID_REQUEST",Ru="METHOD_NOT_FOUND",Fu="INVALID_PARAMS",Ei="INTERNAL_ERROR",kr="SERVER_ERROR",Pu=[-32700,-32600,-32601,-32602,-32603],Bt={[Nu]:{code:-32700,message:"Parse error"},[Mu]:{code:-32600,message:"Invalid Request"},[Ru]:{code:-32601,message:"Method not found"},[Fu]:{code:-32602,message:"Invalid params"},[Ei]:{code:-32603,message:"Internal error"},[kr]:{code:-32e3,message:"Server error"}},mi=kr;function Bu(e){return Pu.includes(e)}function jn(e){return Object.keys(Bt).includes(e)?Bt[e]:Bt[mi]}function ju(e){const t=Object.values(Bt).find(r=>r.code===e);return t||Bt[mi]}function Hu(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${t}`):e}var xi={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kr=function(e,t){return Kr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var o in a)a.hasOwnProperty(o)&&(r[o]=a[o])},Kr(e,t)};function zu(e,t){Kr(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Wr=function(){return Wr=Object.assign||function(t){for(var r,a=1,o=arguments.length;a<o;a++){r=arguments[a];for(var f in r)Object.prototype.hasOwnProperty.call(r,f)&&(t[f]=r[f])}return t},Wr.apply(this,arguments)};function $u(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r}function Ku(e,t,r,a){var o=arguments.length,f=o<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,r):a,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(e,t,r,a);else for(var u=e.length-1;u>=0;u--)(p=e[u])&&(f=(o<3?p(f):o>3?p(t,r,f):p(t,r))||f);return o>3&&f&&Object.defineProperty(t,r,f),f}function Wu(e,t){return function(r,a){t(r,a,e)}}function Gu(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Yu(e,t,r,a){function o(f){return f instanceof r?f:new r(function(p){p(f)})}return new(r||(r=Promise))(function(f,p){function u(c){try{s(a.next(c))}catch(g){p(g)}}function h(c){try{s(a.throw(c))}catch(g){p(g)}}function s(c){c.done?f(c.value):o(c.value).then(u,h)}s((a=a.apply(e,t||[])).next())})}function Vu(e,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,o,f,p;return p={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function u(s){return function(c){return h([s,c])}}function h(s){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,o&&(f=s[0]&2?o.return:s[0]?o.throw||((f=o.return)&&f.call(o),0):o.next)&&!(f=f.call(o,s[1])).done)return f;switch(o=0,f&&(s=[s[0]&2,f.value]),s[0]){case 0:case 1:f=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!f||s[1]>f[0]&&s[1]<f[3])){r.label=s[1];break}if(s[0]===6&&r.label<f[1]){r.label=f[1],f=s;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(s);break}f[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(c){s=[6,c],o=0}finally{a=f=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function qu(e,t,r,a){a===void 0&&(a=r),e[a]=t[r]}function Xu(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Gr(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],a=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Si(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),o,f=[],p;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)f.push(o.value)}catch(u){p={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(p)throw p.error}}return f}function Ju(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Si(arguments[t]));return e}function ku(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var a=Array(e),o=0,t=0;t<r;t++)for(var f=arguments[t],p=0,u=f.length;p<u;p++,o++)a[o]=f[p];return a}function $t(e){return this instanceof $t?(this.v=e,this):new $t(e)}function Zu(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(e,t||[]),o,f=[];return o={},p("next"),p("throw"),p("return"),o[Symbol.asyncIterator]=function(){return this},o;function p(v){a[v]&&(o[v]=function(y){return new Promise(function(m,M){f.push([v,y,m,M])>1||u(v,y)})})}function u(v,y){try{h(a[v](y))}catch(m){g(f[0][3],m)}}function h(v){v.value instanceof $t?Promise.resolve(v.value.v).then(s,c):g(f[0][2],v)}function s(v){u("next",v)}function c(v){u("throw",v)}function g(v,y){v(y),f.shift(),f.length&&u(f[0][0],f[0][1])}}function Qu(e){var t,r;return t={},a("next"),a("throw",function(o){throw o}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(o,f){t[o]=e[o]?function(p){return(r=!r)?{value:$t(e[o](p)),done:o==="return"}:f?f(p):p}:f}}function ec(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Gr=="function"?Gr(e):e[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(f){r[f]=e[f]&&function(p){return new Promise(function(u,h){p=e[f](p),o(u,h,p.done,p.value)})}}function o(f,p,u,h){Promise.resolve(h).then(function(s){f({value:s,done:u})},p)}}function tc(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function rc(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function nc(e){return e&&e.__esModule?e:{default:e}}function ic(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function ac(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const oc=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Wr},__asyncDelegator:Qu,__asyncGenerator:Zu,__asyncValues:ec,__await:$t,__awaiter:Yu,__classPrivateFieldGet:ic,__classPrivateFieldSet:ac,__createBinding:qu,__decorate:Ku,__exportStar:Xu,__extends:zu,__generator:Vu,__importDefault:nc,__importStar:rc,__makeTemplateObject:tc,__metadata:Gu,__param:Wu,__read:Si,__rest:$u,__spread:Ju,__spreadArrays:ku,__values:Gr},Symbol.toStringTag,{value:"Module"})),sc=Gn(oc);var ct={},Hn;function fc(){if(Hn)return ct;Hn=1,Object.defineProperty(ct,"__esModule",{value:!0}),ct.isBrowserCryptoAvailable=ct.getSubtleCrypto=ct.getBrowerCrypto=void 0;function e(){return(ot===null||ot===void 0?void 0:ot.crypto)||(ot===null||ot===void 0?void 0:ot.msCrypto)||{}}ct.getBrowerCrypto=e;function t(){const a=e();return a.subtle||a.webkitSubtle}ct.getSubtleCrypto=t;function r(){return!!e()&&!!t()}return ct.isBrowserCryptoAvailable=r,ct}var lt={},zn;function uc(){if(zn)return lt;zn=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.isBrowser=lt.isNode=lt.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}lt.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}lt.isNode=t;function r(){return!e()&&!t()}return lt.isBrowser=r,lt}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=sc;t.__exportStar(fc(),e),t.__exportStar(uc(),e)})(xi);function Oi(e=3){const t=Date.now()*Math.pow(10,e),r=Math.floor(Math.random()*Math.pow(10,e));return t+r}function jc(e=6){return BigInt(Oi(e))}function Hc(e,t,r){return{id:r||Oi(),jsonrpc:"2.0",method:e,params:t}}function zc(e,t){return{id:e,jsonrpc:"2.0",result:t}}function cc(e,t,r){return{id:e,jsonrpc:"2.0",error:lc(t)}}function lc(e,t){return typeof e>"u"?jn(Ei):(typeof e=="string"&&(e=Object.assign(Object.assign({},jn(kr)),{message:e})),Bu(e.code)&&(e=ju(e.code)),e)}class hc{}class dc extends hc{constructor(){super()}}class $c extends dc{constructor(t){super()}}const _c="^https?:",bc="^wss?:";function gc(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function Ai(e,t){const r=gc(e);return typeof r>"u"?!1:new RegExp(t).test(r)}function Kc(e){return Ai(e,_c)}function $n(e){return Ai(e,bc)}function yc(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function Ci(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function Wc(e){return Ci(e)&&"method"in e}function Gc(e){return Ci(e)&&(wc(e)||vc(e))}function wc(e){return"result"in e}function vc(e){return"error"in e}const Dc=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),pc=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Kn=e=>e.split("?")[0],Wn=10,Ec=Dc();class Yc{constructor(t){if(this.url=t,this.events=new ya.EventEmitter,this.registering=!1,!$n(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=a=>{this.onClose(a),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(It(t))}catch(r){this.onError(t.id,r)}}register(t=this.url){if(!$n(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((a,o)=>{this.events.once("register_error",f=>{this.resetMaxListeners(),o(f)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return o(new Error("WebSocket connection is missing or invalid"));a(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,a)=>{const o=new URLSearchParams(t).get("origin"),f=xi.isReactNative()?{headers:{origin:o}}:{rejectUnauthorized:!yc(t)},p=new Ec(t,[],f);pc()?p.onerror=u=>{const h=u;a(this.emitError(h.error))}:p.on("error",u=>{a(this.emitError(u))}),p.onopen=()=>{this.onOpen(p),r(p)}})}onOpen(t){t.onmessage=r=>this.onPayload(r),t.onclose=r=>this.onClose(r),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?hr(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const a=this.parseError(r),o=a.message||a.toString(),f=cc(t,o);this.events.emit("payload",f)}parseError(t,r=this.url){return Hu(t,Kn(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Wn&&this.events.setMaxListeners(Wn)}emitError(t){const r=this.parseError(new Error((t==null?void 0:t.message)||`WebSocket connection failed for host: ${Kn(this.url)}`));return this.events.emit("register_error",r),r}}var lr={exports:{}};lr.exports;(function(e,t){var r=200,a="__lodash_hash_undefined__",o=1,f=2,p=9007199254740991,u="[object Arguments]",h="[object Array]",s="[object AsyncFunction]",c="[object Boolean]",g="[object Date]",v="[object Error]",y="[object Function]",m="[object GeneratorFunction]",M="[object Map]",L="[object Number]",K="[object Null]",E="[object Object]",C="[object Promise]",b="[object Proxy]",D="[object RegExp]",w="[object Set]",n="[object String]",d="[object Symbol]",P="[object Undefined]",j="[object WeakMap]",q="[object ArrayBuffer]",X="[object DataView]",J="[object Float32Array]",I="[object Float64Array]",T="[object Int8Array]",Y="[object Int16Array]",B="[object Int32Array]",N="[object Uint8Array]",R="[object Uint8ClampedArray]",F="[object Uint16Array]",H="[object Uint32Array]",te=/[\\^$.*+?()[\]{}|]/g,z=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,V={};V[J]=V[I]=V[T]=V[Y]=V[B]=V[N]=V[R]=V[F]=V[H]=!0,V[u]=V[h]=V[q]=V[c]=V[X]=V[g]=V[v]=V[y]=V[M]=V[L]=V[E]=V[D]=V[w]=V[n]=V[j]=!1;var ae=typeof ot=="object"&&ot&&ot.Object===Object&&ot,A=typeof self=="object"&&self&&self.Object===Object&&self,O=ae||A||Function("return this")(),x=t&&!t.nodeType&&t,i=x&&!0&&e&&!e.nodeType&&e,_=i&&i.exports===x,$=_&&ae.process,W=function(){try{return $&&$.binding&&$.binding("util")}catch{}}(),ue=W&&W.isTypedArray;function be(l,S){for(var U=-1,G=l==null?0:l.length,me=0,re=[];++U<G;){var Te=l[U];S(Te,U,l)&&(re[me++]=Te)}return re}function le(l,S){for(var U=-1,G=S.length,me=l.length;++U<G;)l[me+U]=S[U];return l}function we(l,S){for(var U=-1,G=l==null?0:l.length;++U<G;)if(S(l[U],U,l))return!0;return!1}function Ie(l,S){for(var U=-1,G=Array(l);++U<l;)G[U]=S(U);return G}function Oe(l){return function(S){return l(S)}}function _e(l,S){return l.has(S)}function he(l,S){return l==null?void 0:l[S]}function ce(l){var S=-1,U=Array(l.size);return l.forEach(function(G,me){U[++S]=[me,G]}),U}function se(l,S){return function(U){return l(S(U))}}function oe(l){var S=-1,U=Array(l.size);return l.forEach(function(G){U[++S]=G}),U}var ie=Array.prototype,ne=Function.prototype,Z=Object.prototype,fe=O["__core-js_shared__"],de=ne.toString,Q=Z.hasOwnProperty,ge=function(){var l=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),ye=Z.toString,De=RegExp("^"+de.call(Q).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pe=_?O.Buffer:void 0,ve=O.Symbol,rt=O.Uint8Array,it=Z.propertyIsEnumerable,ht=ie.splice,ke=ve?ve.toStringTag:void 0,yt=Object.getOwnPropertySymbols,Nt=pe?pe.isBuffer:void 0,Vt=se(Object.keys,Object),Le=St(O,"DataView"),Ae=St(O,"Map"),Ue=St(O,"Promise"),Ne=St(O,"Set"),Me=St(O,"WeakMap"),Ce=St(Object,"create"),Pe=vt(Le),Be=vt(Ae),je=vt(Ue),He=vt(Ne),ze=vt(Me),Fe=ve?ve.prototype:void 0,Re=Fe?Fe.valueOf:void 0;function xe(l){var S=-1,U=l==null?0:l.length;for(this.clear();++S<U;){var G=l[S];this.set(G[0],G[1])}}function $e(){this.__data__=Ce?Ce(null):{},this.size=0}function Ke(l){var S=this.has(l)&&delete this.__data__[l];return this.size-=S?1:0,S}function Ti(l){var S=this.__data__;if(Ce){var U=S[l];return U===a?void 0:U}return Q.call(S,l)?S[l]:void 0}function Ii(l){var S=this.__data__;return Ce?S[l]!==void 0:Q.call(S,l)}function Li(l,S){var U=this.__data__;return this.size+=this.has(l)?0:1,U[l]=Ce&&S===void 0?a:S,this}xe.prototype.clear=$e,xe.prototype.delete=Ke,xe.prototype.get=Ti,xe.prototype.has=Ii,xe.prototype.set=Li;function ft(l){var S=-1,U=l==null?0:l.length;for(this.clear();++S<U;){var G=l[S];this.set(G[0],G[1])}}function Ui(){this.__data__=[],this.size=0}function Ni(l){var S=this.__data__,U=Xt(S,l);if(U<0)return!1;var G=S.length-1;return U==G?S.pop():ht.call(S,U,1),--this.size,!0}function Mi(l){var S=this.__data__,U=Xt(S,l);return U<0?void 0:S[U][1]}function Ri(l){return Xt(this.__data__,l)>-1}function Fi(l,S){var U=this.__data__,G=Xt(U,l);return G<0?(++this.size,U.push([l,S])):U[G][1]=S,this}ft.prototype.clear=Ui,ft.prototype.delete=Ni,ft.prototype.get=Mi,ft.prototype.has=Ri,ft.prototype.set=Fi;function wt(l){var S=-1,U=l==null?0:l.length;for(this.clear();++S<U;){var G=l[S];this.set(G[0],G[1])}}function Pi(){this.size=0,this.__data__={hash:new xe,map:new(Ae||ft),string:new xe}}function Bi(l){var S=Jt(this,l).delete(l);return this.size-=S?1:0,S}function ji(l){return Jt(this,l).get(l)}function Hi(l){return Jt(this,l).has(l)}function zi(l,S){var U=Jt(this,l),G=U.size;return U.set(l,S),this.size+=U.size==G?0:1,this}wt.prototype.clear=Pi,wt.prototype.delete=Bi,wt.prototype.get=ji,wt.prototype.has=Hi,wt.prototype.set=zi;function qt(l){var S=-1,U=l==null?0:l.length;for(this.__data__=new wt;++S<U;)this.add(l[S])}function $i(l){return this.__data__.set(l,a),this}function Ki(l){return this.__data__.has(l)}qt.prototype.add=qt.prototype.push=$i,qt.prototype.has=Ki;function dt(l){var S=this.__data__=new ft(l);this.size=S.size}function Wi(){this.__data__=new ft,this.size=0}function Gi(l){var S=this.__data__,U=S.delete(l);return this.size=S.size,U}function Yi(l){return this.__data__.get(l)}function Vi(l){return this.__data__.has(l)}function qi(l,S){var U=this.__data__;if(U instanceof ft){var G=U.__data__;if(!Ae||G.length<r-1)return G.push([l,S]),this.size=++U.size,this;U=this.__data__=new wt(G)}return U.set(l,S),this.size=U.size,this}dt.prototype.clear=Wi,dt.prototype.delete=Gi,dt.prototype.get=Yi,dt.prototype.has=Vi,dt.prototype.set=qi;function Xi(l,S){var U=kt(l),G=!U&&ca(l),me=!U&&!G&&mr(l),re=!U&&!G&&!me&&sn(l),Te=U||G||me||re,We=Te?Ie(l.length,String):[],Ye=We.length;for(var Se in l)Q.call(l,Se)&&!(Te&&(Se=="length"||me&&(Se=="offset"||Se=="parent")||re&&(Se=="buffer"||Se=="byteLength"||Se=="byteOffset")||aa(Se,Ye)))&&We.push(Se);return We}function Xt(l,S){for(var U=l.length;U--;)if(rn(l[U][0],S))return U;return-1}function Ji(l,S,U){var G=S(l);return kt(l)?G:le(G,U(l))}function Mt(l){return l==null?l===void 0?P:K:ke&&ke in Object(l)?na(l):ua(l)}function Zr(l){return Rt(l)&&Mt(l)==u}function Qr(l,S,U,G,me){return l===S?!0:l==null||S==null||!Rt(l)&&!Rt(S)?l!==l&&S!==S:ki(l,S,U,G,Qr,me)}function ki(l,S,U,G,me,re){var Te=kt(l),We=kt(S),Ye=Te?h:_t(l),Se=We?h:_t(S);Ye=Ye==u?E:Ye,Se=Se==u?E:Se;var Ze=Ye==E,nt=Se==E,qe=Ye==Se;if(qe&&mr(l)){if(!mr(S))return!1;Te=!0,Ze=!1}if(qe&&!Ze)return re||(re=new dt),Te||sn(l)?en(l,S,U,G,me,re):ta(l,S,Ye,U,G,me,re);if(!(U&o)){var et=Ze&&Q.call(l,"__wrapped__"),tt=nt&&Q.call(S,"__wrapped__");if(et||tt){var bt=et?l.value():l,ut=tt?S.value():S;return re||(re=new dt),me(bt,ut,U,G,re)}}return qe?(re||(re=new dt),ra(l,S,U,G,me,re)):!1}function Zi(l){if(!on(l)||sa(l))return!1;var S=nn(l)?De:z;return S.test(vt(l))}function Qi(l){return Rt(l)&&an(l.length)&&!!V[Mt(l)]}function ea(l){if(!fa(l))return Vt(l);var S=[];for(var U in Object(l))Q.call(l,U)&&U!="constructor"&&S.push(U);return S}function en(l,S,U,G,me,re){var Te=U&o,We=l.length,Ye=S.length;if(We!=Ye&&!(Te&&Ye>We))return!1;var Se=re.get(l);if(Se&&re.get(S))return Se==S;var Ze=-1,nt=!0,qe=U&f?new qt:void 0;for(re.set(l,S),re.set(S,l);++Ze<We;){var et=l[Ze],tt=S[Ze];if(G)var bt=Te?G(tt,et,Ze,S,l,re):G(et,tt,Ze,l,S,re);if(bt!==void 0){if(bt)continue;nt=!1;break}if(qe){if(!we(S,function(ut,Dt){if(!_e(qe,Dt)&&(et===ut||me(et,ut,U,G,re)))return qe.push(Dt)})){nt=!1;break}}else if(!(et===tt||me(et,tt,U,G,re))){nt=!1;break}}return re.delete(l),re.delete(S),nt}function ta(l,S,U,G,me,re,Te){switch(U){case X:if(l.byteLength!=S.byteLength||l.byteOffset!=S.byteOffset)return!1;l=l.buffer,S=S.buffer;case q:return!(l.byteLength!=S.byteLength||!re(new rt(l),new rt(S)));case c:case g:case L:return rn(+l,+S);case v:return l.name==S.name&&l.message==S.message;case D:case n:return l==S+"";case M:var We=ce;case w:var Ye=G&o;if(We||(We=oe),l.size!=S.size&&!Ye)return!1;var Se=Te.get(l);if(Se)return Se==S;G|=f,Te.set(l,S);var Ze=en(We(l),We(S),G,me,re,Te);return Te.delete(l),Ze;case d:if(Re)return Re.call(l)==Re.call(S)}return!1}function ra(l,S,U,G,me,re){var Te=U&o,We=tn(l),Ye=We.length,Se=tn(S),Ze=Se.length;if(Ye!=Ze&&!Te)return!1;for(var nt=Ye;nt--;){var qe=We[nt];if(!(Te?qe in S:Q.call(S,qe)))return!1}var et=re.get(l);if(et&&re.get(S))return et==S;var tt=!0;re.set(l,S),re.set(S,l);for(var bt=Te;++nt<Ye;){qe=We[nt];var ut=l[qe],Dt=S[qe];if(G)var fn=Te?G(Dt,ut,qe,S,l,re):G(ut,Dt,qe,l,S,re);if(!(fn===void 0?ut===Dt||me(ut,Dt,U,G,re):fn)){tt=!1;break}bt||(bt=qe=="constructor")}if(tt&&!bt){var Zt=l.constructor,Qt=S.constructor;Zt!=Qt&&"constructor"in l&&"constructor"in S&&!(typeof Zt=="function"&&Zt instanceof Zt&&typeof Qt=="function"&&Qt instanceof Qt)&&(tt=!1)}return re.delete(l),re.delete(S),tt}function tn(l){return Ji(l,da,ia)}function Jt(l,S){var U=l.__data__;return oa(S)?U[typeof S=="string"?"string":"hash"]:U.map}function St(l,S){var U=he(l,S);return Zi(U)?U:void 0}function na(l){var S=Q.call(l,ke),U=l[ke];try{l[ke]=void 0;var G=!0}catch{}var me=ye.call(l);return G&&(S?l[ke]=U:delete l[ke]),me}var ia=yt?function(l){return l==null?[]:(l=Object(l),be(yt(l),function(S){return it.call(l,S)}))}:_a,_t=Mt;(Le&&_t(new Le(new ArrayBuffer(1)))!=X||Ae&&_t(new Ae)!=M||Ue&&_t(Ue.resolve())!=C||Ne&&_t(new Ne)!=w||Me&&_t(new Me)!=j)&&(_t=function(l){var S=Mt(l),U=S==E?l.constructor:void 0,G=U?vt(U):"";if(G)switch(G){case Pe:return X;case Be:return M;case je:return C;case He:return w;case ze:return j}return S});function aa(l,S){return S=S??p,!!S&&(typeof l=="number"||k.test(l))&&l>-1&&l%1==0&&l<S}function oa(l){var S=typeof l;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?l!=="__proto__":l===null}function sa(l){return!!ge&&ge in l}function fa(l){var S=l&&l.constructor,U=typeof S=="function"&&S.prototype||Z;return l===U}function ua(l){return ye.call(l)}function vt(l){if(l!=null){try{return de.call(l)}catch{}try{return l+""}catch{}}return""}function rn(l,S){return l===S||l!==l&&S!==S}var ca=Zr(function(){return arguments}())?Zr:function(l){return Rt(l)&&Q.call(l,"callee")&&!it.call(l,"callee")},kt=Array.isArray;function la(l){return l!=null&&an(l.length)&&!nn(l)}var mr=Nt||ba;function ha(l,S){return Qr(l,S)}function nn(l){if(!on(l))return!1;var S=Mt(l);return S==y||S==m||S==s||S==b}function an(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=p}function on(l){var S=typeof l;return l!=null&&(S=="object"||S=="function")}function Rt(l){return l!=null&&typeof l=="object"}var sn=ue?Oe(ue):Qi;function da(l){return la(l)?Xi(l):ea(l)}function _a(){return[]}function ba(){return!1}e.exports=ha})(lr,lr.exports);var mc=lr.exports;const Vc=Yn(mc);export{Uc as A,ei as B,Bc as C,Yc as D,Lc as E,Wc as F,zc as G,Pc as H,Tc as I,cc as J,wc as K,Oi as L,Lt as M,pr as N,Ms as O,Kc as P,Hu as Q,Vc as Y,tu as a,Cn as b,Xn as c,Zf as d,wu as e,Nc as f,uu as g,Fc as h,iu as i,$c as j,Hc as k,jc as l,vc as m,Gc as n,Ic as o,Ac as p,lu as q,br as r,Lu as s,Mc as t,Uf as u,Rc as v,It as w,Uu as x,qo as y,hr as z};
