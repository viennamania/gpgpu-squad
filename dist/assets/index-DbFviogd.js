const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DillEupA.js","assets/index-DUMAu9QS.css","assets/index-BWoYzTmq.js","assets/approve-WRg-TvlM.js","assets/concat-hex-aYp195_m.js","assets/toRlp-MPCq96OG.js"])))=>i.map(i=>d[i]);
import{bA as d,a0 as i}from"./index-DillEupA.js";import{s as _}from"./types-CKeVp00v.js";import{U as s}from"./types-YMLL-Nyu.js";function R(t){return t.id==="inApp"||t.id==="embedded"}async function w(t,u,n){var h,l,A,m;if(((h=u==null?void 0:u.auth)==null?void 0:h.mode)!=="popup"&&((l=u==null?void 0:u.auth)==null?void 0:l.mode)!==void 0&&n.authenticateWithRedirect){const r=t.strategy;_.includes(r)&&n.authenticateWithRedirect(r,(A=u==null?void 0:u.auth)==null?void 0:A.mode,(m=u==null?void 0:u.auth)==null?void 0:m.redirectUrl)}const a=(await n.connect(t)).user.account;return u&&"smartAccount"in u&&(u!=null&&u.smartAccount)?f({client:t.client,authAccount:a,smartAccountOptions:u.smartAccount,chain:t.chain}):[a,t.chain||d]}async function T(t,u,n){t.authResult&&n.loginWithAuthToken&&await n.loginWithAuthToken(t.authResult);const c=await W(n);if(!c)throw new Error("Failed to authenticate user.");const a=c.account;return u&&"smartAccount"in u&&(u!=null&&u.smartAccount)?f({client:t.client,authAccount:a,smartAccountOptions:u.smartAccount,chain:t.chain}):[a,t.chain||d]}async function f(t){const[{smartWallet:u},{connectSmartWallet:n}]=await Promise.all([i(()=>import("./index-DillEupA.js").then(a=>a.dO),__vite__mapDeps([0,1])),i(()=>import("./index-BWoYzTmq.js").then(a=>a.i),__vite__mapDeps([2,0,1,3,4,5]))]),c=u(t.smartAccountOptions);return n(c,{client:t.client,personalAccount:t.authAccount,chain:t.chain},t.smartAccountOptions)}async function W(t){const u=await t.getUser();switch(u.status){case s.LOGGED_IN_WALLET_INITIALIZED:return u}}export{T as autoConnectInAppWallet,w as connectInAppWallet,R as isInAppWallet};
