const _="/sdk/2022-08-12/embedded-wallet",r=t=>`thirdwebEwsWalletUserId-${t}`,l="walletToken",a=t=>`${l}-${t}`,n=t=>`passkey-credential-id-${t}`,I="a",i=(t,e)=>`${I}-${t}-${e}`,o=t=>`walletConnectSessions-${t}`,h=new Map;class y{constructor({storage:e,clientId:s,ecosystemId:c}){Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"storage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.storage=e,this.key=u(s,c)}async getItem(e){return this.storage?this.storage.getItem(e):h.get(e)??null}async setItem(e,s){if(this.storage)return this.storage.setItem(e,s);h.set(e,s)}async removeItem(e){const s=await this.getItem(e);return this.storage&&s?(this.storage.removeItem(e),!0):!1}async getWalletConnectSessions(){return this.getItem(o(this.key))}async saveWalletConnectSessions(e){await this.setItem(o(this.key),e)}async savePasskeyCredentialId(e){await this.setItem(n(this.key),e)}async getPasskeyCredentialId(){return this.getItem(n(this.key))}async saveAuthCookie(e){await this.setItem(a(this.key),e)}async getAuthCookie(){return this.getItem(a(this.key))}async removeAuthCookie(){return this.removeItem(a(this.key))}async saveDeviceShare(e,s){await this.saveWalletUserId(s),await this.setItem(i(this.key,s),e)}async getDeviceShare(){const e=await this.getWalletUserId();return e?this.getItem(i(this.key,e)):null}async removeDeviceShare(){const e=await this.getWalletUserId();return e?this.removeItem(i(this.key,e)):!1}async getWalletUserId(){return this.getItem(r(this.key))}async saveWalletUserId(e){await this.setItem(r(this.key),e)}async removeWalletUserId(){return this.removeItem(r(this.key))}}const u=(t,e)=>`${t}${e?`-${e}`:""}`;export{y as C,_ as I};
